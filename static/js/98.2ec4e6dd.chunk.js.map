{"version":3,"file":"static/js/98.2ec4e6dd.chunk.js","mappings":"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","sources":["Shop/pages/Reviews/DetailReview/index.jsx","api/imageReviewAPI.js","api/reviewsAPI.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport moment from \"moment\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Rating from \"@mui/material/Rating\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nimport Modal from \"@mui/material/Modal\";\r\n\r\nimport detailExportInvoiceAPI from \"../../../../api/detailExportInvoiceAPI\";\r\nimport exportInvoiceAPI from \"../../../../api/exportInvoiceAPI\";\r\n\r\nimport reviewAPI from \"../../../../api/reviewsAPI\";\r\nimport imageReviewAPI from \"../../../../api/imageReviewAPI\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"50%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: 800,\r\n  bgcolor: \"background.paper\",\r\n  boxShadow: 24,\r\n  p: 2,\r\n};\r\n\r\nfunction DetailReview() {\r\n  const enqueueSnackbar = useSnackbar();\r\n  const params = useParams();\r\n  const [value, setValue] = useState(0);\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [listImage, setListImage] = useState([]);\r\n  const [product, setProduct] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n  const [exportInvoice, setExportInvoice] = useState([]);\r\n  const [detailExportInvoice, setDetailExportInvoice] = useState([]);\r\n  const [checkReview, setCheckReview] = useState(0);\r\n  const [imageReview, setImagereview] = useState([]);\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const resExport = await exportInvoiceAPI.getExportInvoice(params.idhdx);\r\n        const resDetailExport =\r\n          await detailExportInvoiceAPI.getDetailExportInvoice(params.idhdx);\r\n\r\n        setExportInvoice(resExport);\r\n        setDetailExportInvoice(resDetailExport);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.message, {\r\n          variant: \"error\",\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    })();\r\n  }, [count]);\r\n\r\n  const handleOpen = async (idsp, idms, idkt) => {\r\n    const resProduct = await detailExportInvoiceAPI.getProduct({\r\n      idhdx: params.idhdx,\r\n      idsp: idsp,\r\n      idms: idms,\r\n      idkt: idkt,\r\n    });\r\n    const resReview = await reviewAPI.getOneReview({\r\n      idhdx: params.idhdx,\r\n      idsp: idsp,\r\n      idms: idms,\r\n      idkt: idkt,\r\n    });\r\n    const resImageReview = await imageReviewAPI.getImage(resReview[0]?.id_dg);\r\n    setImagereview(resImageReview);\r\n    setCheckReview(resReview);\r\n    setProduct(resProduct);\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n    window.location.reload();\r\n  };\r\n\r\n  const handleClodeo = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = () => {\r\n        resolve(fileReader.result);\r\n      };\r\n\r\n      fileReader.onerror = (err) => {\r\n        reject(err);\r\n      };\r\n    });\r\n  };\r\n\r\n  const uploadImage = async (e) => {\r\n    setListImage(e.target.files);\r\n    const imageNumber = e.target.files.length + imageUrl.length;\r\n    if (imageNumber <= 3) {\r\n      let i = 0;\r\n      for (i; i < e.target.files.length; i++) {\r\n        const file = e.target.files[i];\r\n        if (!file) return;\r\n        const base64 = await getBase64(file);\r\n        setImageUrl((oldFile) => [...oldFile, { url: base64 }]);\r\n      }\r\n    } else {\r\n    }\r\n  };\r\n\r\n  const btnActive = () => {\r\n    document.getElementById(\"default-btn-rv\").click();\r\n  };\r\n\r\n  const handleRemoveImage = (e) => {\r\n    const name = e.target.getAttribute(\"name\");\r\n    setImageUrl(imageUrl.filter((item) => item.url !== name));\r\n  };\r\n\r\n  const renderImage = imageUrl?.map((urlImage, idx) => {\r\n    return (\r\n      <div className=\"relative\" key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={urlImage.url}\r\n          alt=\"anhsanpham\"\r\n        />\r\n        <div\r\n          className=\"absolute -top-1 -right-1 bg-red-600 text-center text-[12px] text-white px-[6px] rounded-full cursor-pointer\"\r\n          name={urlImage.url}\r\n          onClick={handleRemoveImage}\r\n        >\r\n          x\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const setData = async (data) => {\r\n    if (value !== 0 && data.comment !== \"\" && listImage.length > 0) {\r\n      const id_dg = await reviewAPI.createreview({\r\n        sosao: value,\r\n        noidung: data.comment,\r\n        ngaydg: moment().format(\"YYYY-MM-DD\"),\r\n        idhdx: params.idhdx,\r\n        idsp: product[0]?.id_sp,\r\n        idms: product[0]?.id_ms,\r\n        idkt: product[0]?.id_kt,\r\n      });\r\n\r\n      var formData = new FormData();\r\n      if (listImage) {\r\n        for (let i = 0; i < listImage.length; i++) {\r\n          formData.append(\"photos\", listImage[i]);\r\n        }\r\n        formData.append(\"iddg\", id_dg[0]?.id_dg);\r\n        await imageReviewAPI.createImageRV(formData);\r\n      }\r\n      handleClose();\r\n    }\r\n    else{\r\n      enqueueSnackbar(\"Vui lòng nhập đủ thông tin!\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const renderImageRV =\r\n    imageReview &&\r\n    imageReview?.map(({ hinh_anh_dg }, idx) => (\r\n      <div key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={hinh_anh_dg.slice(12, hinh_anh_dg.length)}\r\n          alt=\"hinh anh san pham\"\r\n        />\r\n      </div>\r\n    ));\r\n\r\n  return (\r\n    <div className=\"w-[50%] my-6 mx-auto\">\r\n      <div className=\"flex justify-between my-4\">\r\n        <p>\r\n          Ngày: {moment(exportInvoice[0]?.ngay_lap_hdx).format(\"DD/MM/YYYY\")}\r\n        </p>\r\n        <p className=\"text-green-700 font-bold\">\r\n          {exportInvoice[0]?.trang_thai}\r\n        </p>\r\n      </div>\r\n      <div>\r\n        {detailExportInvoice?.map(\r\n          (\r\n            {\r\n              id_sp,\r\n              ten_sp,\r\n              hinh_anh,\r\n              so_luong_xuat,\r\n              id_ms,\r\n              id_kt,\r\n              ten_ms,\r\n              ten_kt,\r\n            },\r\n            idx\r\n          ) => (\r\n            <div key={idx} className=\"mb-4 p-3 bg-slate-50 rounded-md\">\r\n              <Link to={`/shop/order/${params.idhdx}`}>\r\n                <div className=\"relative flex justify-between gap-5 items-center\">\r\n                  <img\r\n                    className=\"block w-[10%] align-middle rounded-lg\"\r\n                    src={hinh_anh}\r\n                    alt=\"\"\r\n                  />\r\n                  <span className=\"w-[70%] text-[20px] font-bold\">\r\n                    {ten_sp}\r\n                  </span>\r\n                  <span className=\"w-[20%] text-right\">\r\n                    Số lượng: {so_luong_xuat}\r\n                  </span>\r\n                  <div className=\"absolute flex gap-5 left-[12.5%] top-[75%] text-slate-500 text-[14px]\">\r\n                    <p>Màu sắc: {ten_ms}</p>\r\n                    <p>Kích thước: {ten_kt}</p>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n\r\n              <div>\r\n                <p\r\n                  onClick={() => handleOpen(id_sp, id_ms, id_kt)}\r\n                  className=\"text-right text-yellow-500 font-medium cursor-pointer\"\r\n                >\r\n                  Đánh giá\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )\r\n        )}\r\n        <Modal\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"modal-modal-title\"\r\n          aria-describedby=\"modal-modal-description\"\r\n        >\r\n          <Box sx={style}>\r\n            <div className=\"relative mb-2 flex justify-between gap-5 items-center\">\r\n              <img\r\n                className=\"block w-[10%] align-middle rounded-lg\"\r\n                src={product[0]?.hinh_anh}\r\n                alt=\"\"\r\n              />\r\n              <span className=\"w-[70%] text-[20px] font-bold\">\r\n                {product[0]?.ten_sp}\r\n              </span>\r\n              <span className=\"w-[20%] text-right\">\r\n                Số lượng: {product[0]?.so_luong_xuat}\r\n              </span>\r\n              <div className=\"absolute flex gap-5 left-[12.5%] top-[75%] text-slate-500 text-[14px]\">\r\n                <p>Màu sắc: {product[0]?.ten_ms}</p>\r\n                <p>Kích thước: {product[0]?.ten_kt}</p>\r\n              </div>\r\n            </div>\r\n\r\n            {checkReview.length === 0 ? (\r\n              <div>\r\n                <Rating\r\n                  className=\"my-2\"\r\n                  name=\"simple-controlled\"\r\n                  value={value}\r\n                  size=\"large\"\r\n                  onChange={(event, newValue) => {\r\n                    setValue(newValue);\r\n                  }}\r\n                />\r\n                <form onSubmit={handleSubmit((data) => setData(data))}>\r\n                  <div className=\"my-2 flex gap-4\">\r\n                    <div className=\"flex gap-4\">\r\n                      <input\r\n                        // {...register(\"file\")}\r\n                        type=\"file\"\r\n                        id=\"default-btn-rv\"\r\n                        className=\"hidden\"\r\n                        name=\"file\"\r\n                        onChange={(e) => {\r\n                          uploadImage(e);\r\n                        }}\r\n                        multiple\r\n                      />\r\n                      <div\r\n                        className=\"w-[100px] h-[100px] border border-slate-400 rounded-lg cursor-pointer\"\r\n                        onClick={() => btnActive()}\r\n                      >\r\n                        <div className=\"text-[25px] text-[#ccc] text-center leading-[90px] \">\r\n                          +\r\n                        </div>\r\n                      </div>\r\n                      {renderImage}\r\n                    </div>\r\n                  </div>\r\n                  <textarea\r\n                    {...register(\"comment\")}\r\n                    name=\"comment\"\r\n                    className=\"p-4 my-2 w-full border border-slate-500 rounded-md\"\r\n                    rows=\"8\"\r\n                  ></textarea>\r\n\r\n                  <button className=\"block w-[100px] text-center py-2 ml-auto mr-0 bg-emerald-400 rounded-md text-white font-bold shadow-md\">\r\n                    Gửi\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div>\r\n                  <Rating\r\n                    className=\"my-3\"\r\n                    name=\"read-only\"\r\n                    size=\"large\"\r\n                    value={checkReview[0]?.so_sao}\r\n                    readOnly\r\n                  />\r\n                  <div className=\"flex gap-5\">{renderImageRV}</div>\r\n                  <p className=\"mt-5\">\r\n                    Đánh giá: {checkReview[0]?.noi_dung_dg}\r\n                  </p>\r\n                  <button\r\n                    onClick={handleClodeo}\r\n                    className=\"block py-2 px-4 ml-auto mr-0 bg-slate-200 rounded-md shadow-md\"\r\n                  >\r\n                    Đóng\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </Box>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DetailReview;\r\n","import axiosClient from \"./axiosClient\";\r\nconst imageReviewAPI = {\r\n  createImageRV(data) {\r\n    const API_URL = \"/api/manage/review/photos/upload\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n\r\n  getImage(iddg) {\r\n\r\n    const API_URL = `/api/manage/image_review/iddg=${iddg}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n};\r\n\r\nexport default imageReviewAPI;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst reviewAPI = {\r\n  createreview(data) {\r\n    const API_URL = \"/api/manage/review/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n\r\n  getListReview() {\r\n    const API_URL = \"/api/manage/review/list\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getReview(idhdx) {\r\n    const API_URL = `/api/manage/review/idhdx=${idhdx}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getReviewProduct(idsp) {\r\n    const API_URL = `/api/manage/review/idsp=${idsp}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n  getdanhgia(idsp) {\r\n    const API_URL = `/api/manage/danhgia/idsp=${idsp}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getReviewInvoice(idhdx) {\r\n    const API_URL = `/api/manage/review/idhdx=${idhdx}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getOneReview(params) {\r\n    const API_URL = \"/api/manage/one_review\";\r\n    return axiosClient.get(API_URL, { params });\r\n  },\r\n\r\n  updateStatus(iddg, status) {\r\n    const API_URL = `/api/manage/update_status/status=${status}/iddg=${iddg}`;\r\n    return axiosClient.put(API_URL);\r\n  },\r\n  deleteReview(iddg) {\r\n    const API_URL = `/api/manage/review/delete/iddg=${iddg}`;\r\n    return axiosClient.delete(API_URL);\r\n  },\r\n};\r\n\r\nexport default reviewAPI;\r\n"],"names":["style","position","top","left","transform","width","bgcolor","boxShadow","p","enqueueSnackbar","useSnackbar","params","useParams","useState","value","setValue","imageUrl","setImageUrl","listImage","setListImage","product","setProduct","count","exportInvoice","setExportInvoice","detailExportInvoice","setDetailExportInvoice","checkReview","setCheckReview","imageReview","setImagereview","open","setOpen","useForm","register","handleSubmit","useEffect","exportInvoiceAPI","idhdx","resExport","detailExportInvoiceAPI","resDetailExport","message","variant","autoHideDuration","handleOpen","idsp","idms","idkt","resProduct","reviewAPI","resReview","imageReviewAPI","id_dg","resImageReview","handleClose","window","location","reload","getBase64","file","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","err","uploadImage","e","target","files","length","i","base64","oldFile","url","handleRemoveImage","name","getAttribute","filter","item","renderImage","map","urlImage","idx","className","src","alt","onClick","setData","data","comment","sosao","noidung","ngaydg","moment","format","id_sp","id_ms","id_kt","formData","FormData","append","renderImageRV","hinh_anh_dg","slice","ngay_lap_hdx","trang_thai","ten_sp","hinh_anh","so_luong_xuat","ten_ms","ten_kt","to","onClose","sx","size","onChange","event","newValue","onSubmit","type","id","multiple","document","getElementById","click","rows","so_sao","readOnly","noi_dung_dg","createImageRV","axiosClient","getImage","iddg","API_URL","createreview","getListReview","getReview","getReviewProduct","getdanhgia","getReviewInvoice","getOneReview","updateStatus","status","deleteReview"],"sourceRoot":""}
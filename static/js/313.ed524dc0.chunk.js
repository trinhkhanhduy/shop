"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[313],{96001:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r=t(72791),a=t(57689),i=t(74165),s=t(15861),c=t(70885),o=t(72849),d=t(72426),l=t.n(d),u=t(50228),h=t(99444),p=t(26241),m=t(19910),x=t(53464),v=t(38033),g=t(88226),f=t(40508),j=t(61146),b=t(52335),N=t(80184),_={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -80%)",width:400,bgcolor:"background.paper",boxShadow:24,p:2},Z={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",boxShadow:24,p:4};var w=function(){var e,n,t,a,d=(0,r.useState)([]),w=(0,c.Z)(d,2),y=w[0],k=w[1],I=(0,r.useState)(""),S=(0,c.Z)(I,2),P=S[0],C=S[1],A=(0,r.useState)([]),D=(0,c.Z)(A,2),T=D[0],F=D[1],H=(0,r.useState)(0),V=(0,c.Z)(H,2),M=V[0],X=V[1],L=(0,r.useState)([]),Y=(0,c.Z)(L,2),E=Y[0],K=Y[1],W=(0,r.useState)(""),z=(0,c.Z)(W,2),G=z[0],O=z[1],q=(0,r.useState)([]),R=(0,c.Z)(q,2),U=R[0],B=R[1],Q=(0,r.useState)(!1),J=(0,c.Z)(Q,2),$=J[0],ee=J[1],ne=(0,r.useState)(!1),te=(0,c.Z)(ne,2),re=te[0],ae=te[1],ie=(0,r.useState)(!1),se=(0,c.Z)(ie,2),ce=se[0],oe=se[1],de=(0,r.useState)(0),le=(0,c.Z)(de,2),ue=le[0],he=le[1],pe=(0,r.useState)(0),me=(0,c.Z)(pe,2),xe=me[0],ve=me[1],ge=(0,r.useState)(""),fe=(0,c.Z)(ge,2),je=fe[0],be=fe[1],Ne=function(){return ee(!1)},_e=function(){return ae(!1)},Ze=function(){return oe(!1)},we=(0,r.useRef)(),ye=(0,p.Ds)().enqueueSnackbar;(0,r.useEffect)((function(){(0,s.Z)((0,i.Z)().mark((function e(){var n,t,r,a,s,c,o,d,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,t=0,0!==E.length){for(r=0;r<E.length;r++)n+=(null===(a=E[r])||void 0===a?void 0:a.so_luong_xuat)*((null===(s=E[r])||void 0===s?void 0:s.gia_ban_sp)-(null===(c=E[r])||void 0===c?void 0:c.gia_ban_sp)*(null===(o=E[r])||void 0===o?void 0:o.giam_gia)/100),t+=E[r].giam_gia*E[r].gia_ban_sp/100;he(n),ve(t)}return e.next=5,m.Z.getAll();case 5:return d=e.sent,e.next=8,g.Z.getAllShiper();case 8:l=e.sent,F(l),k(d);case 11:case"end":return e.stop()}}),e)})))()}),[M,E]);var ke=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=9;break}return e.next=3,m.Z.updateStatus(G,{status:"\u0110\xe3 x\xe1c nh\u1eadn"});case 3:return e.next=5,f.Z.createDeliver({idnv:P,trangthai:"\u0110ang x\u1eed l\xfd",idhdx:G});case 5:X((function(e){return e+1})),Ne(),e.next=10;break;case 9:ye("Vui l\xf2ng ch\u1ecdn ng\u01b0\u1eddi giao h\xe0ng",{variant:"error",autoHideDuration:2e3});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.getDetailExportInvoice(G);case 2:return n=e.sent,e.next=5,v.Z.addNumberProduct(n);case 5:return e.next=7,m.Z.updateStatus(G,{status:"H\u1ee7y"});case 7:X((function(e){return e+1})),_e();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,r,a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.next=3,m.Z.getExportInvoice(n);case 3:return r=e.sent,B(r),e.next=7,x.Z.getDetailExportInvoice(n);case 7:return a=e.sent,K(a),e.next=11,b.Z.getOneUser(a[0].id_kh);case 11:s=e.sent,be(null===(t=s[0])||void 0===t?void 0:t.thanh_vien);case 13:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Pe=(0,j.useReactToPrint)({content:function(){return we.current},documentTitle:"emp-data"}),Ce=[{field:"id_hdx",headerName:"M\xe3 h\xf3a \u0111\u01a1n",width:125,headerAlign:"center",align:"center"},{field:"tong_tien",headerName:"T\u1ed5ng ti\u1ec1n",width:130,headerAlign:"center",align:"center"},{field:"trang_thai",headerName:"Tr\u1ea1ng th\xe1i",width:130,headerAlign:"center",align:"center"},{field:"ngay_lap",headerName:"Ng\xe0y l\u1eadp",width:100,headerAlign:"center",align:"center"},{field:"hinh_thuc",headerName:"Thanh to\xe1n",width:170,headerAlign:"center",align:"center"},{field:"hanh_dong",headerName:"H\xe0nh \u0110\u1ed9ng",headerAlign:"center",width:460,renderCell:function(e){var n,t,r,a;return(0,N.jsxs)("div",{className:"flex gap-5",children:["\u0110ang x\u1eed l\xfd"===e.row.trang_thai?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{onClick:function(){O(e.row.id_hdx),ee(!0)},className:"py-2 px-4 text-white bg-sky-500 rounded-lg shadow-md",children:"X\xe1c nh\u1eadn"}),(0,N.jsx)(h.Z,{open:$,onClose:Ne,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(u.Z,{sx:_,children:[(0,N.jsxs)("p",{className:"text-[24px] text-center font-bold",children:["X\xe1c nh\u1eadn h\xf3a \u0111\u01a1n ",e.row.id_hdx]}),(0,N.jsx)("div",{className:"mt-6",children:(0,N.jsxs)("select",{onChange:function(e){return C(e.target.value)},className:"mt-2 py-2 px-4 border w-full",children:[(0,N.jsx)("option",{value:"",children:"Ch\u1ecdn ng\u01b0\u1eddi giao h\xe0ng"}),null===T||void 0===T?void 0:T.map((function(e,n){var t=e.id_nv,r=e.ten_nv;return(0,N.jsx)("option",{value:t,children:r},n)}))]})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){return ke()},className:"block mt-6 mx-auto py-2 px-4 text-white bg-sky-500 rounded-lg shadow-md",children:"X\xe1c nh\u1eadn h\xf3a \u0111\u01a1n"})})]})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{onClick:function(){O(e.row.id_hdx),ae(!0)},className:"py-2 px-4 text-white bg-red-500 rounded-lg shadow-md",children:"H\u1ee7y"}),(0,N.jsx)(h.Z,{open:re,onClose:_e,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(u.Z,{sx:_,children:[(0,N.jsxs)("p",{className:"text-[24px] text-center font-bold",children:["X\xe1c nh\u1eadn h\u1ee7y h\xf3a \u0111\u01a1n ",e.row.id_hdx]}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){return Ie()},className:"block mt-6 mx-auto py-2 px-4 text-white bg-sky-500 rounded-lg shadow-md",children:"H\u1ee7y h\xf3a \u0111\u01a1n"})})]})})]})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{children:(0,N.jsx)("button",{className:"py-2 px-4 text-white bg-sky-500 opacity-50 rounded-lg shadow-md cursor-not-allowed",children:"X\xe1c nh\u1eadn"})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{className:"py-2 px-4 text-white bg-red-500 opacity-50 rounded-lg shadow-md cursor-not-allowed",children:"H\u1ee7y"})})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{onClick:function(){return Se(e.row.id_hdx)},className:"py-2 px-4 text-white bg-slate-800 rounded-lg shadow-md",children:"Xem h\xf3a \u0111\u01a1n"}),(0,N.jsx)(h.Z,{open:ce,onClose:Ze,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(u.Z,{sx:Z,children:[(0,N.jsx)("p",{className:"text-[24px] text-center font-medium",children:"Th\xf4ng tin h\xf3a \u0111\u01a1n"}),(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("div",{className:"",children:[(0,N.jsxs)("p",{children:["T\xean kh\xe1ch h\xe0ng: ",(0,N.jsx)("strong",{children:null===(n=U[0])||void 0===n?void 0:n.ten_kh})]}),(0,N.jsxs)("p",{children:["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"," ",(0,N.jsx)("strong",{children:null===(t=U[0])||void 0===t?void 0:t.so_dien_thoai})]}),(0,N.jsxs)("p",{children:["\u0110\u1ecba ch\u1ec9: ",(0,N.jsx)("strong",{children:null===(r=U[0])||void 0===r?void 0:r.dia_chi_hdx})]}),(0,N.jsxs)("p",{children:["Th\xe0nh vi\xean:"," ",(0,N.jsx)("strong",{children:1===je?"-5%":2===je?"-10%":3===je?"-20%":""})]}),(0,N.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n:"," ",(0,N.jsx)("strong",{children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(null===(a=E[0])||void 0===a?void 0:a.tong_tien_hdx)})]})]}),(0,N.jsx)("div",{children:null===E||void 0===E?void 0:E.map((function(e,n){var t=e.ten_sp,r=e.gia_ban_sp,a=e.giam_gia,i=e.hinh_anh,s=e.so_luong_xuat,c=e.ten_ms,o=e.ten_kt;return(0,N.jsxs)("div",{className:"relative mt-4 flex gap-5 items-center",children:[(0,N.jsx)("div",{className:"w-[12%]",children:(0,N.jsx)("img",{className:"border-2 border-slate-500 rounded-md",src:i,alt:""})}),(0,N.jsx)("div",{className:"w-[40%] text-[16px]",children:(0,N.jsx)("p",{children:t})}),(0,N.jsx)("div",{className:"w-[15%]",children:a?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-slate-700 text-center line-through",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(r)}),(0,N.jsx)("p",{className:"text-[18px] font-bold",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(r-r*a/100)})]}):(0,N.jsx)("p",{className:"text-[18px] font-bold",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(r)})}),(0,N.jsx)("div",{className:"w-[33%] text-center",children:(0,N.jsxs)("p",{className:"text-[16px] text-slate-600",children:["S\u1ed1 l\u01b0\u1ee3ng: ",s]})}),(0,N.jsxs)("div",{className:"absolute flex gap-5 left-[13.5%] top-[75%] text-slate-500 text-[14px]",children:[(0,N.jsx)("div",{children:(0,N.jsxs)("p",{children:["M\xe0u s\u1eafc: ",c]})}),(0,N.jsx)("div",{children:(0,N.jsxs)("p",{children:["K\xedch th\u01b0\u1edbc: ",o]})})]})]},n)}))})]}),(0,N.jsxs)("div",{className:"flex ",children:[(0,N.jsx)("button",{onClick:Ze,className:"block mt-6 mx-auto py-2 px-4 text-white bg-sky-500 rounded-lg shadow-md",children:"\u0110\xf3ng"}),(0,N.jsx)("button",{onClick:Pe,className:"block mt-6 mx-auto py-2 px-4 text-white bg-sky-500 rounded-lg shadow-md",children:"In h\xf3a \u0111\u01a1n"})]})]})})]})]})}}],Ae=null===y||void 0===y?void 0:y.map((function(e,n){var t=e.id_hdx,r=e.ten_kh,a=e.so_dien_thoai,i=e.tong_tien_hdx,s=e.trang_thai,c=e.ngay_lap_hdx,o=e.hinh_thuc_thanh_toan;return{id:n,id_hdx:t,ten_kh:r,sdt_kh:a,dia_chi:e.dia_chi_hdx,tong_tien:"".concat(new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(i)),trang_thai:s,ngay_lap:l()(c).format("DD-MM-YYYY"),hinh_thuc:"offline"===o?"Khi nh\u1eadn h\xe0ng":"Qua ng\xe2n h\xe0ng"}}));return(0,N.jsxs)("div",{className:"px-[20px]",children:[(0,N.jsx)("div",{style:{height:550,width:"100%"},children:(0,N.jsx)(o._,{rows:Ae,columns:Ce,pageSize:8,rowsPerPageOptions:[8]})}),(0,N.jsx)("div",{className:"auto",style:{display:"none"},children:(0,N.jsxs)("div",{className:"containera",ref:we,children:[(0,N.jsx)("div",{className:"header",children:(0,N.jsx)("div",{className:"logo",children:(0,N.jsx)("span",{className:"text",children:"DShop"})})}),(0,N.jsx)("div",{className:"main-content",children:(0,N.jsxs)("div",{className:"invoice-container",children:[(0,N.jsx)("div",{className:"top",children:(0,N.jsxs)("div",{className:"top-left",children:[(0,N.jsx)("h1",{className:"main",children:"H\xf3a \u0111\u01a1n"}),(0,N.jsxs)("span",{className:"code",children:["#",null===(e=U[0])||void 0===e?void 0:e.id_hdx]})]})}),(0,N.jsxs)("div",{className:"bill-box",children:[(0,N.jsxs)("div",{className:"left",children:[(0,N.jsx)("div",{className:"text-m",children:"G\u1eedi t\u1eeb:"}),(0,N.jsx)("div",{className:"title",children:"DShop"}),(0,N.jsx)("div",{className:"addr",children:"3/2 Xu\xe2n Kh\xe1nh, Ninh Ki\u1ec1u, C\u1ea7n Th\u01a1"})]}),(0,N.jsxs)("div",{className:"right",children:[(0,N.jsx)("div",{className:"text-m",children:"G\u1eedi t\u1edbi:"}),(0,N.jsx)("div",{className:"title",children:null===(n=U[0])||void 0===n?void 0:n.ten_kh}),(0,N.jsx)("div",{className:"addr",children:null===(t=U[0])||void 0===t?void 0:t.dia_chi_hdx})]})]}),(0,N.jsx)("div",{className:"table-bill",children:(0,N.jsxs)("table",{className:"table-service",children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"quantity",children:"S\u1ed1 l\u01b0\u1ee3ng"}),(0,N.jsx)("th",{className:"aaa",children:"S\u1ea3n ph\u1ea9m"}),(0,N.jsx)("th",{className:"cost",children:"Gi\xe1"})]})}),(0,N.jsx)("tbody",{children:E.map((function(e,n){return(0,N.jsxs)("tr",{children:[(0,N.jsxs)("td",{children:[e.so_luong_xuat," - ",e.ten_ms," - ",e.ten_kt]}),(0,N.jsx)("td",{children:e.ten_sp}),(0,N.jsxs)("td",{className:"cost",children:[e.so_luong_xuat," X \xa0",new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(e.gia_ban_sp)," "]})]},n)}))}),(0,N.jsxs)("tfoot",{children:[(0,N.jsxs)("tr",{className:"ship",children:[(0,N.jsx)("td",{className:"shipname",children:"Khuy\u1ebfn m\xe3i"}),(0,N.jsxs)("td",{colSpan:2,className:"shipnumber",children:[new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(xe)," "]})]}),(0,N.jsxs)("tr",{className:"ship",children:[(0,N.jsx)("td",{className:"shipname",children:"Th\xe0nh vi\xean"}),(0,N.jsx)("td",{colSpan:2,className:"shipnumber",children:1===je?"-5%":2===je?"-10%":3===je?"-20%":"0%"})]}),(0,N.jsxs)("tr",{className:"ship",children:[(0,N.jsx)("td",{className:"shipname",children:"Ph\xed v\u1eadn chuy\u1ec3n"}),(0,N.jsx)("td",{colSpan:2,className:"shipnumber",children:ue>1e6||0!==je?"Mi\u1ec5n ph\xed":"30000 VND"})]}),(0,N.jsxs)("tr",{className:"total",children:[(0,N.jsx)("td",{className:"name",children:"T\u1ed5ng ti\u1ec1n"}),(0,N.jsx)("td",{colSpan:2,className:"number",children:new Intl.NumberFormat("it-IT",{style:"currency",currency:"VND"}).format(null===(a=E[0])||void 0===a?void 0:a.tong_tien_hdx)})]})]})]})}),(0,N.jsxs)("div",{className:"note",children:[(0,N.jsx)("p",{children:"C\u1ea3m \u01a1n ban \u0111\xe3 \u1ee7ng h\u1ed9 s\u1ea3n ph\u1ea9m!"}),(0,N.jsx)("p",{children:"DShop.com"})]})]})})]})})]})},y=t(42982),k=t(16030),I=t(90123),S=t(30286),P=t(21680),C=t(19773),A=t(24390),D=t(69963),T=t(9827),F=t(17204),H=t(60807),V=[{id:"idsp",label:"T\xean S\u1ea3n Ph\u1ea9m",minWidth:170,align:"center"},{id:"mausac",label:"M\xe0u S\u1eafc",minWidth:100,align:"center"},{id:"kichthuoc",label:"K\xedch Th\u01b0\u1edbc",minWidth:100,align:"center"},{id:"gianhap",label:"Gi\xe1 Nh\u1eadp",minWidth:100,align:"center"},{id:"soluong",label:"S\u1ed1 L\u01b0\u1ee3ng",minWidth:100,align:"center"}];function M(e){var n=e.rows,t=e.datashoe,a=e.deletetrow,i=(0,r.useState)(0),s=(0,c.Z)(i,2),o=s[0],d=s[1],l=(0,r.useState)(5),u=(0,c.Z)(l,2),h=u[0],p=u[1],m=(0,k.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.color)||void 0===n?void 0:n.colorlist})),x=(0,k.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.size)||void 0===n?void 0:n.sizelist}));return(0,N.jsxs)(S.Z,{sx:{width:"100%",overflow:"hidden"},children:[(0,N.jsx)(D.Z,{sx:{maxHeight:440},children:(0,N.jsxs)(P.Z,{size:"small","aria-label":"a dense table",children:[(0,N.jsx)(T.Z,{children:(0,N.jsx)(H.Z,{children:V.map((function(e,n){return(0,N.jsx)(A.Z,{sx:{textAlign:"center"},children:e.label},n)}))})}),(0,N.jsx)(C.Z,{children:n.slice(o*h,o*h+h).map((function(e,n){return(0,N.jsxs)(H.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center"},children:t.filter((function(n){return n.id_sp===e.idsp}))[0].ten_sp}),(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center"},children:m.filter((function(n){return n.id_ms===e.mausac}))[0].ten_ms}),(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center"},children:x.filter((function(n){return n.id_kt===e.kichthuoc}))[0].ten_kt}),(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center"},children:e.gianhap}),(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center"},children:e.soluong}),(0,N.jsx)(A.Z,{component:"th",scope:"row",sx:{textAlign:"center",cursor:"pointer",":hover":{color:"red"}},onClick:function(){a(n)},children:"x"})]},n)}))})]})}),(0,N.jsx)(F.Z,{rowsPerPageOptions:[5,10,25,100],component:"div",count:n.length,rowsPerPage:h,page:o,onPageChange:function(e,n){d(n)},onRowsPerPageChange:function(e){p(+e.target.value),d(0)}})]})}var X=t(83798),L=t(65608),Y={createdetailImportInvoiceAPI:function(e){return L.Z.post("/api/manage/detail_importInvoice/add",e)},sumNumber:function(e){var n="/api/manage/detailImportInvoice/sum_number/idsp=".concat(e);return L.Z.get(n)},addNumberProduct:function(e){return L.Z.put("/api/manage/detail_import_invoice/add_product",e)},getDetailProductList:function(e){var n="/api/manage/detail_import_invoice/list/idhdn=".concat(e);return L.Z.get(n)}},E=t(9672),K={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",boxShadow:24,p:2};var W=function(){var e=(0,r.useState)(!1),n=(0,c.Z)(e,2),t=n[0],a=n[1],d=function(){return a(!1)},m=(0,r.useState)(""),x=(0,c.Z)(m,2),g=x[0],f=x[1],j=(0,r.useState)(""),b=(0,c.Z)(j,2),_=b[0],Z=b[1],w=(0,r.useState)(""),S=(0,c.Z)(w,2),P=S[0],C=S[1],A=(0,r.useState)(""),D=(0,c.Z)(A,2),T=D[0],F=D[1],H=(0,r.useState)(""),V=(0,c.Z)(H,2),L=V[0],W=V[1],z=(0,r.useState)([]),G=(0,c.Z)(z,2),O=G[0],q=G[1],R=(0,r.useState)([]),U=(0,c.Z)(R,2),B=U[0],Q=U[1],J=(0,r.useState)(""),$=(0,c.Z)(J,2),ee=$[0],ne=$[1],te=(0,r.useState)([]),re=(0,c.Z)(te,2),ae=re[0],ie=re[1],se=(0,r.useState)([]),ce=(0,c.Z)(se,2),oe=ce[0],de=ce[1],le=(0,r.useState)([]),ue=(0,c.Z)(le,2),he=ue[0],pe=ue[1],me=(0,r.useState)(""),xe=(0,c.Z)(me,2),ve=xe[0],ge=xe[1],fe=(0,r.useState)(0),je=(0,c.Z)(fe,2),be=je[0],Ne=je[1],_e=(0,r.useState)(!1),Ze=(0,c.Z)(_e,2),we=Ze[0],ye=Ze[1],ke=(0,r.useState)([]),Ie=(0,c.Z)(ke,2),Se=Ie[0],Pe=Ie[1],Ce=(0,p.Ds)().enqueueSnackbar,Ae=(0,k.v9)((function(e){var n,t;return null===(n=e.employee)||void 0===n||null===(t=n.current[0])||void 0===t?void 0:t.id_nv}));(0,r.useEffect)((function(){(0,s.Z)((0,i.Z)().mark((function e(){var n,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.Z.getProductListManage();case 3:return n=e.sent,Pe(n),e.next=7,X.Z.getListImportInvoiceAPI();case 7:t=e.sent,de(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Ce(e.t0.message,{variant:"error",autoHideDuration:2e3});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[be]);var De=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.Z.getColor(n);case 2:t=e.sent,f(n),Q(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Te=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,v.Z.getListColor(g,n);case 3:t=e.sent,q(t),F(n);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=18;break}for(n=0,t=0;t<ae.length;t++)n+=ae[t].gianhap*ae[t].soluong;return e.next=5,X.Z.createImportInvoiceAPI({ngaylaphdn:_,tongtienhdn:n,idnv:Ae});case 5:r=e.sent,a=0;case 7:if(!(a<ae.length)){e.next=13;break}return e.next=10,Y.createdetailImportInvoiceAPI({idhdn:r[0].id_hdn,gianhap:ae[a].gianhap,mausac:ae[a].mausac,kichthuoc:ae[a].kichthuoc,idsp:ae[a].idsp,soluong:ae[a].soluong});case 10:a++,e.next=7;break;case 13:return e.next=15,v.Z.updateNumberProduct(ae);case 15:Ne((function(e){return e+1})),d(),window.location.reload();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var t,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.getDetailProductList(n);case 2:return r=e.sent,e.next=5,X.Z.sumPriceInvoice(n);case 5:a=e.sent,pe(r),ge(null===(t=a[0])||void 0===t?void 0:t.tong_tien_hdn),ye(!0);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.Z.deleteImportInvoice(n);case 2:e.sent,Ne((function(e){return e+1}));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Me=[{field:"idhdn",headerName:"M\xe3 h\xf3a \u0111\u01a1n",headerAlign:"center",align:"center",width:125},{field:"ngaylaphdn",headerName:"Ng\xe0y l\u1eadp h\xf3a \u0111\u01a1n",headerAlign:"center",align:"center",width:150},{field:"nhanviennhap",headerName:"Nh\xe2n vi\xean nh\u1eadp",headerAlign:"center",align:"center",width:150},{field:"hanhdong",headerName:"H\xe0nh \u0110\u1ed9ng",headerAlign:"center",width:300,renderCell:function(e){return(0,N.jsxs)("div",{className:"flex w-[100%] justify-between",children:[(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){return He(e.row.idhdn)},className:"block mx-auto py-2 px-4 bg-blue-500 text-white rounded-lg w-[120px]",children:"Xem th\xf4ng tin"})}),(0,N.jsx)("div",{children:(0,N.jsx)("button",{onClick:function(){return Ve(e.row.idhdn)},className:"block mx-auto py-2 px-4 bg-black text-white rounded-lg w-[120px]",children:"X\xf3a h\xf3a \u0111\u01a1n"})})]})}}];console.log(ae);var Xe=null===oe||void 0===oe?void 0:oe.map((function(e,n){var t=e.id_hdn,r=e.ngay_lap_hdn,a=e.ten_nv;return{id:n,idhdn:t,ngaylaphdn:l()(r).format("DD-MM-YYYY"),nhanviennhap:a}}));return(0,N.jsxs)("div",{className:"px-[20px]",children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{className:"py-2 px-4 text-white bg-green-700 shadow-md rounded-md",onClick:function(){return a(!0)},children:"Nh\u1eadp h\xf3a \u0111\u01a1n"}),(0,N.jsx)(h.Z,{open:t,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,N.jsxs)(u.Z,{sx:K,children:[(0,N.jsx)("p",{className:"text-[26px] text-center font-medium",children:"NH\u1eacP S\u1ea2N PH\u1ea8M"}),(0,N.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={ngaylaphdn:_,idsp:g,gianhap:L,mausac:T,kichthuoc:P,soluong:ee},t=[].concat((0,y.Z)(ae),[n]);ie(t)},children:[(0,N.jsxs)("div",{className:"flex gap-5",children:[(0,N.jsxs)("div",{className:"w-1/2",children:[(0,N.jsx)("input",{onChange:function(e){return Z(e.target.value)},className:"block mb-4 p-2 px-4 w-full border rounded-md",type:"date"}),(0,N.jsxs)("select",{onChange:function(e){return De(e.target.value)},className:"block mb-4 p-2 px-4 w-full border rounded-md",children:[(0,N.jsx)("option",{value:"",children:"Ch\u1ecdn s\u1ea3n ph\u1ea9m"}),null===Se||void 0===Se?void 0:Se.map((function(e,n){var t=e.id_sp,r=e.ten_sp;return(0,N.jsx)("option",{value:t,children:r},n)}))]}),(0,N.jsx)("input",{onChange:function(e){return W(e.target.value)},className:"block mb-4 p-2 px-4 w-full border rounded-md",type:"text",placeholder:"Gi\xe1 nh\u1eadp"})]}),(0,N.jsxs)("div",{className:"w-1/2",children:[(0,N.jsxs)("select",{onClick:function(e){return Te(e.target.value)},className:"block mb-4 p-2 px-4 w-full border rounded-md",children:[(0,N.jsx)("option",{value:"",children:"Ch\u1ecdn m\xe0u s\u1eafc"}),B.map((function(e,n){var t=e.id_ms,r=e.ten_ms;return(0,N.jsx)("option",{value:t,children:r},n)}))]}),(0,N.jsxs)("select",{onClick:function(e){return n=e.target.value,void C(n);var n},className:"block mb-4 p-2 px-4 w-full border rounded-md",children:[(0,N.jsx)("option",{value:"",children:"Ch\u1ecdn k\xedch th\u01b0\u1edbc"}),O.map((function(e,n){var t=e.id_kt,r=e.ten_kt;return(0,N.jsx)("option",{value:t,children:r},n)}))]}),(0,N.jsx)("input",{onChange:function(e){return ne(e.target.value)},className:"block mb-4 p-2 px-4 w-full border rounded-md",type:"text",placeholder:"S\u1ed1 l\u01b0\u1ee3ng"})]})]}),(0,N.jsx)("button",{className:"block ml-auto mr-0 py-2 px-4 bg-green-900 text-white rounded-md",children:"Th\xeam"})]}),(0,N.jsxs)("div",{className:"mt-4",children:[(0,N.jsx)(M,{rows:ae,datashoe:Se,deletetrow:function(e){ie(ae.filter((function(n,t){return t!==e})))}}),(0,N.jsx)("button",{onClick:Fe,className:"block mt-4 ml-auto mr-0 py-2 px-4 bg-lime-600 text-white rounded-lg",children:"X\xe1c Nh\u1eadn"})]})]})})]}),(0,N.jsxs)("div",{className:"flex gap-5 mt-5 mb-4",children:[(0,N.jsx)("div",{style:{height:500,width:"50%"},children:(0,N.jsx)(o._,{rows:Xe,columns:Me,pageSize:7,rowsPerPageOptions:[7]})}),(0,N.jsx)("div",{className:"w-1/2 p-4 border rounded-md",children:!0===we&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("p",{className:"text-center text-[24px] font-bold",children:"H\xd3A \u0110\u01a0N NH\u1eacP"}),(0,N.jsx)("p",{className:"text-center text-[24px] font-bold",children:"------"}),(0,N.jsxs)("div",{className:"px-10",children:[null===he||void 0===he?void 0:he.map((function(e,n){var t=e.ten_sp,r=e.ten_ms,a=e.ten_kt,i=e.so_luong_nhap,s=e.gia_nhap;return(0,N.jsx)("div",{className:"mt-4",children:(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex justify-between",children:[(0,N.jsxs)("p",{className:"w-[80%]",children:["T\xean s\u1ea3n ph\u1ea9m:"," ",(0,N.jsx)("span",{className:"font-medium",children:t})]}),(0,N.jsxs)("p",{className:"w-[20%]",children:["S\u1ed1 l\u01b0\u1ee3ng: ",i]})]}),(0,N.jsxs)("p",{children:["Gi\xe1 nh\u1eadp:"," ",new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(s)]}),(0,N.jsxs)("p",{children:["M\xe0u s\u1eafc: ",r]}),(0,N.jsxs)("p",{children:["K\xedch th\u01b0\u1edbc: ",a," "]})]})},n)})),(0,N.jsx)("p",{className:"text-slate-500 text-center",children:"----------------------------------------------------------------------------------"}),(0,N.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n h\xf3a \u0111\u01a1n:"," ",(0,N.jsx)("span",{className:"text-[20px] font-bold text-red-600",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ve)})]})]})]})})]})]})};var z=function(){return(0,N.jsx)("div",{children:(0,N.jsxs)(a.Z5,{children:[(0,N.jsx)(a.AW,{path:"/import_invoice",element:(0,N.jsx)(W,{})}),(0,N.jsx)(a.AW,{path:"/export_invoice",element:(0,N.jsx)(w,{})})]})})}},40508:function(e,n,t){var r=t(65608),a={createDeliver:function(e){return r.Z.post("/api/manage/delivier/add",e)},getnameShip:function(){return r.Z.get("/api/manage/delivier/getnameship")},getInvoice:function(e){var n="/api/manage/deliver/list_invoice/idnv=".concat(e);return r.Z.get(n)},getInvoiceStatus:function(e,n){var t="/api/manage/deliver/get_invoice_status/idnv=".concat(e);return r.Z.put(t,n)},updateStatusNote:function(e){return r.Z.post("/api/manage/deliver/update_status_note",e)},updateStatus:function(e){return r.Z.post("/api/manage/deliver/update_status",e)},getOneInvoice:function(e){var n="/api/manage/deliver/one_invoice/idhdx=".concat(e);return r.Z.get(n)},getAllInvoice:function(){return r.Z.get("/api/manage/deliver/list_invoice")},getPriceShip:function(e){var n="/api/manage/deliver/shipinvoice/idnv=".concat(e);return r.Z.get(n)},deleteInvoice:function(e){var n="/api/manage/deliver/delete_invoice/idhdx=".concat(e);return r.Z.delete(n)}};n.Z=a},53464:function(e,n,t){var r=t(65608),a={createdetailExportInvoice:function(e){return r.Z.post("/api/manage/detail_exportInvoice/add",e)},getDetailExportInvoice:function(e){var n="/api/manage/detail_exportInvoice/list/id_hdx=".concat(e);return r.Z.get(n)},sumNumber:function(e){var n="/api/manage/detail_exportInvoice/sum_number/idsp=".concat(e);return r.Z.get(n)},sumNumberProduct:function(e){return r.Z.get("/api/manage/detail_exportInvoice/sum_number",{params:e})},getProduct:function(e){return r.Z.get("/api/manage/detail_exportInvoice/product",{params:e})}};n.Z=a},38033:function(e,n,t){var r=t(65608),a={createdetailProductAPI:function(e){return r.Z.post("/api/detail_product/add",e)},updateNumberProduct:function(e){return r.Z.put("/api/detail_product/update_number_product",e)},getAllNumber:function(){return r.Z.get("/api/detail_product/list")},getList:function(e){var n="/api/detail_product/list/".concat(e);return r.Z.get(n)},getListColor:function(e,n){var t="/api/detail_product/size/".concat(e,"/").concat(n);return r.Z.get(t)},getProductByNow:function(e){return r.Z.get("/api/detail_product/buy_now",{params:e})},getNumberProduct:function(e,n,t){var a="/api/detail_product/number_product/".concat(e,"/").concat(t,"/").concat(n);return r.Z.get(a)},removeProduct:function(e){return r.Z.put("/api/detail_product/remove_product",e)},addNumberProduct:function(e){return r.Z.put("/api/detail_product/add_product",e)},getNumberOneProduct:function(e){return r.Z.get("/api/detail_product/number_product",{params:e})},removeUpdate:function(e){var n="/api/detail_product/removeUpdate/".concat(e);return r.Z.put(n)},updateDetailproduct:function(e){return r.Z.post("/api/detail_product/update",e)}};n.Z=a},83798:function(e,n,t){var r=t(65608),a={createImportInvoiceAPI:function(e){return r.Z.post("/api/manage/importInvoice/add",e)},getListImportInvoiceAPI:function(){return r.Z.get("/api/manage/importInvoice/list")},getId:function(){return r.Z.get("/api/manage/importInvoice/id")},deleteImportInvoice:function(e){var n="/api/manage/importInvoice/delete/id=".concat(e);return r.Z.delete(n)},sumPriceInvoice:function(e){var n="/api/manage/importInvoice/sum_price/idhdn=".concat(e);return r.Z.get(n)},sumPriceInvoices:function(){return r.Z.get("/api/manage/importInvoice/sum_price")}};n.Z=a}}]);
//# sourceMappingURL=313.ed524dc0.chunk.js.map
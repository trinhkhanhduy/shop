{"version":3,"file":"static/js/341.1d19ac19.chunk.js","mappings":"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","sources":["api/discountAPI.js","Manage/pages/Product/ListProducts/index.jsx","api/csvAPI.js","Manage/pages/Product/AddProduct/index.jsx","Manage/pages/Product/EditProduct/index.jsx","Manage/pages/Product/index.jsx","api/detailProductAPI.js","api/imageAPI.js","api/importInvoiceAPI.js"],"sourcesContent":["import axiosClient from \"./axiosClient\";\r\n\r\nconst discountAPI = {\r\n  createDiscount(data) {\r\n    const API_URL = \"/api/manage/discount/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  getDiscount(id) {\r\n    const API_URL = `/api/manage/discount/id=${id}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getList() {\r\n    const API_URL = \"/api/manage/discount/list\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  deleteDiscount(id) {\r\n    const API_URL = `/api/manage/discount/delete=${id}`;\r\n    return axiosClient.delete(API_URL);\r\n  },\r\n};\r\n\r\nexport default discountAPI;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { DataGrid } from \"@mui/x-data-grid\";\r\nimport moment from \"moment\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Backdrop, Fade, Modal, Typography } from \"@mui/material\";\r\nimport { Box } from \"@mui/system\";\r\nimport Grid from \"@mui/material/Grid\";\r\n\r\nimport importInvoiceAPI from \"../../../../api/importInvoiceAPI\";\r\nimport colorAPI from \"../../../../api/colorAPI\";\r\nimport sizeAPI from \"../../../../api/sizeAPI\";\r\nimport brandAPI from \"../../../../api/brandAPI\";\r\nimport typeProductAPI from \"../../../../api/typeProductAPI\";\r\nimport imageAPI from \"../../../../api/imageAPI\";\r\nimport productAPI from \"../../../../api/productAPI\";\r\nimport discountAPI from \"../../../../api/discountAPI\";\r\nimport detailProductAPI from \"../../../../api/detailProductAPI\";\r\n\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\n// import detailImportInvoiceAPI from \"../../../../api/detailImportInvoiceAPI\";\r\n\r\nconst style = {\r\n  position: \"absolute\",\r\n  top: \"40%\",\r\n  left: \"50%\",\r\n  transform: \"translate(-50%, -50%)\",\r\n  width: 800,\r\n  bgcolor: \"#fff\",\r\n  p: 2,\r\n};\r\n\r\nconst defaultValues = {\r\n  priceDiscount: \"\",\r\n  EndDate: new Date(),\r\n};\r\n\r\nconst schema = yup.object().shape({\r\n  priceDiscount: yup.string().required(\"Vui lòng nhập giá khuyến mãi\"),\r\n});\r\n\r\nfunction ListProducts() {\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitSuccessful },\r\n    reset,\r\n  } = useForm({ resolver: yupResolver(schema), defaultValues: defaultValues });\r\n\r\n  const [IdPD, setIdPD] = useState(\"\");\r\n\r\n  const [openInfor, setOpenInfor] = useState(false);\r\n  const [openDiscount, setOpenDiscount] = useState(false);\r\n  // const [openAddProduct, setOpenAddProduct] = useState(false);\r\n  const [dataDetailProduct, setDataDetailProduct] = useState(\"\");\r\n  const [dataBrand, setDataBrand] = useState(\"\");\r\n  const [dataColor, setDataColor] = useState(\"\");\r\n  const [dataSize, setDataSize] = useState(\"\");\r\n  const [dataImage, setDataImage] = useState(\"\");\r\n  const [dataTypeProduct, setDataTypeProduct] = useState(\"\");\r\n  const [infoProducts, setInfoProducts] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n  const [discount, setDiscount] = useState([]);\r\n\r\n  // const [datadetail, setDatadetail] = useState([]);\r\n  // const [color, setColor] = useState([]);\r\n  // const [size, setSize] = useState([]);\r\n\r\n  // const [idProduct, setIdProduct] = useState(\"\");\r\n  // const [idColor, setIdColor] = useState(\"\");\r\n  // const [idSize, setIdSize] = useState(\"\");\r\n  // const [idImportInvoice, setIdImportInvoice] = useState(\"\");\r\n  // const [number, setNumber] = useState(\"\");\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const [dataProduct, setDataProduct] = useState([]);\r\n\r\n  const handleOpenInfor = () => setOpenInfor(true);\r\n  const handleCloseInfor = () => setOpenInfor(false);\r\n\r\n  const handleOpenDiscount = () => setOpenDiscount(true);\r\n  const handleCloseDiscount = () => setOpenDiscount(false);\r\n\r\n  // const handleOpenAddProduct = () => setOpenAddProduct(true);\r\n  // const handleCloseAddProduct = () => setOpenAddProduct(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (isSubmitSuccessful) {\r\n        reset(defaultValues);\r\n      }\r\n      try {\r\n        const res = await productAPI.getProductListManage();\r\n        setDataProduct(res);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.message, {\r\n          variant: \"error\",\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    })(); // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [count]);\r\n  const deleteProduct = async (id_sp, id_hdn) => {\r\n    try {\r\n      await productAPI.deleteProduct(id_sp);\r\n      await importInvoiceAPI.deleteImportInvoice(id_hdn);\r\n      enqueueSnackbar(\"Xóa sản phẩm thành công\", {\r\n        variant: \"success\",\r\n        autoHideDuration: 2000,\r\n      });\r\n      setCount((e) => e + 1);\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const detailProduct = async (idsp) => {\r\n    const result = await detailProductAPI.getList(idsp);\r\n    const resProduct = await productAPI.getProduct(idsp);\r\n    const resColor = await colorAPI.getColor(resProduct[0].id_ms);\r\n    const resTypeProduct = await typeProductAPI.getTypeProduct(\r\n      resProduct[0].id_lsp\r\n    );\r\n    const resBrand = await brandAPI.getBrand(resProduct[0].id_th);\r\n    const resSize = await sizeAPI.getSize(resProduct[0].id_kt);\r\n    const resImage = await imageAPI.getImage(resProduct[0].id_sp);\r\n    const resDiscount = await discountAPI.getDiscount(idsp);\r\n    setInfoProducts(result);\r\n    setDiscount(resDiscount);\r\n    setDataImage(resImage);\r\n    setDataTypeProduct(resTypeProduct);\r\n    setDataBrand(resBrand);\r\n    setDataSize(resSize);\r\n    setDataColor(resColor);\r\n    setDataDetailProduct(resProduct);\r\n    handleOpenInfor();\r\n  };\r\n\r\n  const editProduct = (id) => {\r\n    navigate(`/manage/product/edit/${id}`, { replace: true });\r\n  };\r\n\r\n  // const handleColor = async (idms) => {\r\n  //   const result = await detailProductAPI.getListColor(idProduct, idms);\r\n  //   setSize(result);\r\n  //   setIdColor(idms);\r\n  // };\r\n\r\n  // const handleSize = async (idkt) => {\r\n  //   setIdSize(idkt);\r\n  // };\r\n\r\n  // const addProduct = async (id_sp, id_hdn) => {\r\n  //   handleOpenAddProduct();\r\n  //   const detail_product = await detailProductAPI.getList(id_sp);\r\n  //   const result = await colorAPI.getColor(id_sp);\r\n  //   setColor(result);\r\n  //   setIdProduct(id_sp);\r\n  //   setIdImportInvoice(id_hdn);\r\n  //   setDatadetail(detail_product);\r\n  // };\r\n\r\n  // const handleSubmitAdd = async () => {\r\n  //   if (number && color && size) {\r\n  //     await detailProductAPI.addNumberProduct({\r\n  //       so_luong: number,\r\n  //       id_sp: idProduct,\r\n  //       id_kt: idSize,\r\n  //       id_ms: idColor,\r\n  //     });\r\n  //     await detailImportInvoiceAPI.addNumberProduct({\r\n  //       id_hdn: idImportInvoice,\r\n  //       so_luong: number,\r\n  //     });\r\n  //     setCount((e) => e + 1);\r\n  //     handleCloseAddProduct();\r\n  //     enqueueSnackbar(\"Thêm số lượng sản phẩm thành công\", {\r\n  //       variant: \"success\",\r\n  //       autoHideDuration: 2000,\r\n  //     });\r\n  //   } else {\r\n  //     enqueueSnackbar(\"Vui lòng nhập đầy đủ thông tin\", {\r\n  //       variant: \"error\",\r\n  //       autoHideDuration: 2000,\r\n  //     });\r\n  //   }\r\n  // };\r\n\r\n  const addDiscount = async (id) => {\r\n    try {\r\n      handleOpenDiscount();\r\n      const resDiscount = await discountAPI.getDiscount(id);\r\n      setDiscount(resDiscount);\r\n      setIdPD(id);\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteDiscount = async (id) => {\r\n    try {\r\n      await discountAPI.deleteDiscount(id);\r\n      handleCloseDiscount();\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      field: \"id_sp\",\r\n      headerName: \"ID\",\r\n      width: 80,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      field: \"ten_sp\",\r\n      headerName: \"Tên Sản Phẩm\",\r\n      headerAlign: \"center\",\r\n      width: 300,\r\n    },\r\n    {\r\n      field: \"gia_ban\",\r\n      headerName: \"Giá Bán\",\r\n      width: 120,\r\n      headerAlign: \"center\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      field: \"hanh_dong\",\r\n      headerName: \"Hành Động\",\r\n      headerAlign: \"center\",\r\n      width: 400,\r\n      renderCell: (params) => (\r\n        <div className=\"flex justify-between w-full\">\r\n          <div>\r\n            <button\r\n              onClick={() => detailProduct(params.row.id_sp)}\r\n              className=\"py-2 px-4 text-white font-bold bg-[#00CED1] rounded-lg shadow-lg\"\r\n            >\r\n              Xem\r\n            </button>\r\n          </div>\r\n\r\n          {/* <div>\r\n            <button\r\n              onClick={() => addProduct(params.row.id_sp, params.row.id_hdn)}\r\n              className=\"py-2 px-4 text-white font-bold bg-[#630e9f] rounded-lg shadow-lg\"\r\n            >\r\n              Thêm\r\n            </button>\r\n            <Modal\r\n              open={openAddProduct}\r\n              onClose={handleCloseAddProduct}\r\n              aria-labelledby=\"modal-modal-title\"\r\n              aria-describedby=\"modal-modal-description\"\r\n            >\r\n              <Box sx={style}>\r\n                <p className=\"text-[20px] text-center\">Thêm sản phẩm</p>\r\n                <div className=\"flex gap-5 mt-4\">\r\n                  <div className=\"w-[33%]\">\r\n                    <select\r\n                      className=\"w-full px-4 py-2 border border-slate-900 rounded-md\"\r\n                      onChange={(e) => handleColor(e.target.value)}\r\n                    >\r\n                      <option value=\"\">Màu sắc</option>\r\n                      {color?.map(({id_ms, ten_ms}, idx) => (\r\n                        <option key={idx} value={id_ms}>\r\n                          {ten_ms}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"w-[33%]\">\r\n                    <select\r\n                      className=\"w-full px-4 py-2 border border-slate-900 rounded-md\"\r\n                      onChange={(e) => handleSize(e.target.value)}\r\n                    >\r\n                      <option value=\"\">Kích thước</option>\r\n                      {size?.map(({id_kt, ten_kt}, idx) => (\r\n                        <option key={idx} value={id_kt}>\r\n                          {ten_kt}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div className=\"w-[33%]\">\r\n                    <input\r\n                      onChange={(e) => setNumber(e.target.value)}\r\n                      className=\"w-full px-4 py-2 border border-slate-900 rounded-md\"\r\n                      type=\"text\"\r\n                      placeholder=\"Số lượng\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                  <button\r\n                    onClick={() => handleSubmitAdd()}\r\n                    className=\"block ml-auto mr-0 text-white px-4 py-2 bg-teal-500 rounded-lg shadow-md\"\r\n                  >\r\n                    Thêm\r\n                  </button>\r\n                </div>\r\n              </Box>\r\n            </Modal>\r\n          </div> */}\r\n\r\n          <div>\r\n            <button\r\n              onClick={() => editProduct(params.row.id_sp)}\r\n              className=\"py-2 px-4 text-white font-bold bg-[#008000] rounded-lg shadow-lg\"\r\n            >\r\n              Sửa\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              onClick={() => deleteProduct(params.row.id_sp, params.row.id_hdn)}\r\n              className=\"py-2 px-4 text-white font-bold bg-[#FF0000] rounded-lg shadow-lg\"\r\n            >\r\n              Xóa\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              onClick={() => addDiscount(params.row.id_sp)}\r\n              className=\"py-2 px-4 text-white font-bold bg-[#FF4500] rounded-lg shadow-lg\"\r\n            >\r\n              Khuyến mãi\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const rows = dataProduct?.map(\r\n    (\r\n      {\r\n        id_sp,\r\n        id_hdn,\r\n        id_th,\r\n        id_ms,\r\n        id_kt,\r\n        id_lsp,\r\n        ten_sp,\r\n        gia_nhap_sp,\r\n        gia_ban_sp,\r\n        so_luong_hdn,\r\n        ngay_lap_hdx,\r\n      },\r\n      idx\r\n    ) => ({\r\n      id: idx,\r\n      id_sp: id_sp,\r\n      id_th: id_th,\r\n      id_ms: id_ms,\r\n      id_kt: id_kt,\r\n      id_lsp: id_lsp,\r\n      ten_sp: ten_sp,\r\n      gia_ban: `${new Intl.NumberFormat(\"vi-VN\", {\r\n        style: \"currency\",\r\n        currency: \"VND\",\r\n      }).format(gia_ban_sp)}`,\r\n      ngay_nhap: moment(ngay_lap_hdx).format(\"DD-MM-YYYY\"),\r\n    })\r\n  );\r\n\r\n  const renderImage =\r\n    dataImage &&\r\n    dataImage?.map(({ hinh_anh_sp }, idx) => (\r\n      <div key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={hinh_anh_sp.slice(12, hinh_anh_sp.length)}\r\n          alt=\"hinh anh san pham\"\r\n        />\r\n      </div>\r\n    ));\r\n\r\n  const dataDiscount = (data) => {\r\n    return {\r\n      giakm: data.priceDiscount,\r\n      idsp: IdPD,\r\n      hankhuyenmai: data.endDate,\r\n    };\r\n  };\r\n  const setData = async (data) => {\r\n    try {\r\n      await discountAPI.createDiscount(dataDiscount(data));\r\n      setCount((e) => e + 1);\r\n      handleCloseDiscount();\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"px-[20px]\">\r\n        <div className=\"border border-slate-300\">\r\n          <div style={{ height: \"80vh\", width: \"100%\" }}>\r\n            <DataGrid\r\n              rows={rows}\r\n              columns={columns}\r\n              pageSize={8}\r\n              rowsPerPageOptions={[8]}\r\n              rowHeight={60}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {dataDetailProduct && (\r\n        <>\r\n          <Modal\r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            open={openInfor}\r\n            onClose={handleCloseInfor}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{\r\n              timeout: 300,\r\n            }}\r\n          >\r\n            <Fade in={openInfor}>\r\n              <Box sx={{ ...style, borderRadius: \"16px\" }}>\r\n                <Typography\r\n                  id=\"transition-modal-title\"\r\n                  variant=\"h6\"\r\n                  component=\"h2\"\r\n                >\r\n                  {dataDetailProduct[0]?.id_sp} - {dataDetailProduct[0]?.ten_sp}\r\n                </Typography>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={6}>\r\n                    <Typography\r\n                      id=\"transition-modal-description\"\r\n                      sx={{ mt: 1 }}\r\n                    >\r\n                      Giá bán:{\" \"}\r\n                      {dataDetailProduct[0]?.gia_ban_sp.toLocaleString(\r\n                        \"it-IT\",\r\n                        {\r\n                          style: \"currency\",\r\n                          currency: \"VND\",\r\n                        }\r\n                      )}\r\n                    </Typography>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Loại sản phẩm: {dataTypeProduct[0]?.ten_lsp}\r\n                    </Typography>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Kích thước:{\" \"}\r\n                      {infoProducts?.map(({ ten_kt }, idx) => (\r\n                        <span key={idx}>{ten_kt},</span>\r\n                      ))}\r\n                    </Typography>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Màu sắc:{\" \"}\r\n                      {infoProducts?.map(({ ten_ms }, idx) => (\r\n                        <span key={idx}>{ten_ms},</span>\r\n                      ))}\r\n                    </Typography>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Thương hiệu: {dataBrand[0]?.ten_th}\r\n                    </Typography>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Giảm giá: {discount[0]?.gia_km} %\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={6}>\r\n                    <Typography sx={{ mt: 1 }}>\r\n                      Thông tin sản phẩm: <br />{\" \"}\r\n                      {dataDetailProduct[0]?.thong_tin_sp}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Box\r\n                  sx={{\r\n                    display: \"grid\",\r\n                    mt: 2,\r\n                    gap: 1,\r\n                    gridTemplateColumns: \"repeat(6, 1fr)\",\r\n                  }}\r\n                >\r\n                  {renderImage}\r\n                </Box>\r\n              </Box>\r\n            </Fade>\r\n          </Modal>\r\n        </>\r\n      )}\r\n\r\n      <Modal\r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        open={openDiscount}\r\n        onClose={handleCloseDiscount}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{\r\n          timeout: 300,\r\n        }}\r\n      >\r\n        <Fade in={openDiscount}>\r\n          <Box sx={{ ...style, borderRadius: \"16px\" }}>\r\n            {discount?.length === 0 ? (\r\n              <form onSubmit={handleSubmit((data) => setData(data))}>\r\n                <div className=\"mt-5\">\r\n                  <span>Giá khuyến mãi (%)</span>\r\n                  <input\r\n                    className=\"mt-2 px-2 py-2 w-full border border-slate-400 rounded-lg\"\r\n                    type=\"text\"\r\n                    name=\"priceDiscount\"\r\n                    {...register(\"priceDiscount\")}\r\n                  />\r\n                  <p className=\"absolute text-[14px] text-red-600\">\r\n                    {errors.priceDiscount?.message}\r\n                  </p>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <div className=\"mt-5\">\r\n                    <span>Ngày kết thúc</span>\r\n                    <input\r\n                      className=\"mt-2 px-2 py-2 w-full border border-slate-400 rounded-lg\"\r\n                      type=\"datetime-local\"\r\n                      name=\"endDate\"\r\n                      {...register(\"endDate\")}\r\n                    />\r\n                    <p className=\"absolute text-[14px] text-red-600\">\r\n                      {errors.endDate?.message}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-8\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"float-right font-bold text-white py-2 px-4 bg-slate-500 rounded-lg\"\r\n                  >\r\n                    Xác nhận\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            ) : (\r\n              <>\r\n                <div className=\"p-4\">\r\n                  <h4 className=\"text-[20px]\">\r\n                    Giá khuyến mãi: <span>{discount[0]?.gia_km} %</span>\r\n                  </h4>\r\n                  <button\r\n                    onClick={() => deleteDiscount(discount[0]?.id_km)}\r\n                    className=\"bg-red-600 py-1 px-2 mt-2 rounded-lg text-white\"\r\n                  >\r\n                    Xóa\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n          </Box>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListProducts;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst csvAPI = {\r\n  createCSV(data) {\r\n    const API_URL = \"/api/csv/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  createdetailCSV(data) {\r\n    const API_URL = \"/api/csv/adddetail\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  createImageCSV(data) {\r\n    const API_URL = \"/api/csv/image\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n//   getColor(id) {\r\n//     const API_URL = `/api/color/id=${id}`;\r\n//     return axiosClient.get(API_URL);\r\n//   },\r\n\r\n//   getOneColor(idms) {\r\n//     const API_URL = `/api/color/idms=${idms}`;\r\n//     return axiosClient.get(API_URL);\r\n//   },\r\n\r\n//   getListColor() {\r\n//     const API_URL = \"/api/color/list\";\r\n//     return axiosClient.get(API_URL);\r\n//   },\r\n//   deColor(idms) {\r\n//     const API_URL = `/api/color/delete_color/${idms}`;\r\n//     return axiosClient.delete(API_URL);\r\n//   },\r\n};\r\n\r\nexport default csvAPI;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport productAPI from \"../../../../api/productAPI\";\r\nimport imageAPI from \"../../../../api/imageAPI\";\r\nimport detailProductAPI from \"../../../../api/detailProductAPI\";\r\nimport csvAPI from \"../../../../api/csvAPI\";\r\nimport { parse } from \"query-string\";\r\n\r\nconst defaultValues = {\r\n  kichthuoc: \"KT05\",\r\n  loaisanpham: \"LSP01\",\r\n  tensanpham: \"Nike Shoes\",\r\n  thongtinsanpham: \"Mô tả sản phẩm đang được cập nhật\",\r\n  thuonghieu: \"TH01\",\r\n  giaban: \"1500000\",\r\n};\r\n\r\nfunction AddProduct() {\r\n  const { register, handleSubmit, formState, reset } = useForm({\r\n    defaultValues: defaultValues,\r\n  });\r\n\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [listImage, setListImage] = useState([]);\r\n  const [submittedData, setSubmittedData] = useState({});\r\n  const [detailProduct, setDetailProduct] = useState([]);\r\n  const [addFormData, setAddFormData] = useState({\r\n    kichthuoc: \"\",\r\n    mausac: \"\",\r\n  });\r\n  const [file, setFile] = useState();\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const color = useSelector((state) => state?.color?.colorlist);\r\n  const size = useSelector((state) => state?.size?.sizelist);\r\n  const brand = useSelector((state) => state?.brand?.brandlist);\r\n  const typeProduct = useSelector(\r\n    (state) => state?.typeProduct?.typeProductlist\r\n  );\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = () => {\r\n        resolve(fileReader.result);\r\n      };\r\n\r\n      fileReader.onerror = (err) => {\r\n        reject(err);\r\n      };\r\n    });\r\n  };\r\n  // const numberWithCommas = (x) => {\r\n  //   return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n  // };\r\n  const uploadImage = async (e) => {\r\n    setListImage(e.target.files);\r\n    const imageNumber = e.target.files.length + imageUrl.length;\r\n    if (imageNumber <= 5) {\r\n      let i = 0;\r\n      for (i; i < e.target.files.length; i++) {\r\n        const file = e.target.files[i];\r\n        if (!file) return;\r\n        const base64 = await getBase64(file);\r\n        setImageUrl((oldFile) => [...oldFile, { url: base64 }]);\r\n      }\r\n    } else {\r\n      enqueueSnackbar(\"Image is max 5\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const btnActive = () => {\r\n    document.getElementById(\"default-btn\").click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (formState.isSubmitSuccessful) {\r\n      reset(defaultValues);\r\n      setDetailProduct([]);\r\n      setListImage([]);\r\n    }\r\n  }, [formState, submittedData, reset]);\r\n\r\n  const dataProduct = (data) => {\r\n    return {\r\n      tensanpham: data.tensanpham,\r\n      giaban: data.giaban,\r\n      loaisanpham: data.loaisanpham,\r\n      thuonghieu: data.thuonghieu,\r\n      thongtinsanpham: data.thongtinsanpham,\r\n    };\r\n  };\r\n\r\n  const setData = async (data) => {\r\n    setSubmittedData(data);\r\n    try {\r\n      const idsp = await productAPI.createProduct(dataProduct(data));\r\n      if (detailProduct) {\r\n        for (let i = 0; i < detailProduct.length; i++) {\r\n          await detailProductAPI.createdetailProductAPI({\r\n            idsp: idsp[0].id_sp,\r\n            idkt: detailProduct[i]?.kichthuoc,\r\n            idms: detailProduct[i]?.mausac,\r\n          });\r\n        }\r\n      }\r\n\r\n      const formData = new FormData();\r\n      if (listImage) {\r\n        console.log(\"1\");\r\n        for (let i = 0; i < listImage.length; i++) {\r\n          formData.append(\"photos\", listImage[i]);\r\n        }\r\n        console.log(\"2\");\r\n        formData.append(\"idsp\", idsp[0]?.id_sp);\r\n        await imageAPI.createImage(formData);\r\n        console.log(\"3\");\r\n      }\r\n      enqueueSnackbar(\"Thêm sản phẩm thành công\", {\r\n        variant: \"success\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = (e) => {\r\n    const name = e.target.getAttribute(\"name\");\r\n    setImageUrl(imageUrl.filter((item) => item.url !== name));\r\n  };\r\n\r\n  const renderImage = imageUrl?.map((urlImage, idx) => {\r\n    return (\r\n      <div className=\"relative\" key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={urlImage.url}\r\n          alt=\"anhsanpham\"\r\n        />\r\n        <div\r\n          className=\"absolute -top-1 -right-1 bg-red-600 text-center text-[12px] text-white px-[6px] rounded-full cursor-pointer\"\r\n          name={urlImage.url}\r\n          onClick={handleRemoveImage}\r\n        >\r\n          x\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const handleAddFormChange = (e) => {\r\n    e.preventDefault();\r\n    const fieldName = e.target.getAttribute(\"name\");\r\n    const fieldValue = e.target.value;\r\n    const newFormData = { ...addFormData };\r\n    newFormData[fieldName] = fieldValue;\r\n    setAddFormData(newFormData);\r\n  };\r\n  const handleAddFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newDetailProduct = {\r\n      mausac: addFormData.mausac,\r\n      kichthuoc: addFormData.kichthuoc,\r\n    };\r\n\r\n    const newDetailProducts = [...detailProduct, newDetailProduct];\r\n    setDetailProduct(newDetailProducts);\r\n  };\r\n  const deleteRow = (idrow) => {\r\n    setDetailProduct(detailProduct.filter((item, index) => index !== idrow));\r\n  };\r\n  const handleOnChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n  const handleOnSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const form = new FormData();\r\n    form.append(\"file\", file);\r\n    const a = await csvAPI.createCSV(form);\r\n    const b = await csvAPI.createdetailCSV(form);\r\n    const c = await csvAPI.createImageCSV(form);\r\n    if (c.status === 200) {\r\n      enqueueSnackbar(\"Thêm sản phẩm thành công\", {\r\n        variant: \"success\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    } else {\r\n      enqueueSnackbar(\"Thêm sản phẩm thất bại\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <button\r\n          form=\"addProduct\"\r\n          className=\"ml-7 px-10 py-2 mb-5 text-white bg-sky-400 rounded shadow-lg\"\r\n        >\r\n          Thêm\r\n        </button>\r\n        <button\r\n          className=\"ml-7 mr-7 px-10 py-2 mb-5 text-white bg-sky-400 rounded shadow-lg\"\r\n          onClick={(e) => {\r\n            handleOnSubmit(e);\r\n          }}\r\n        >\r\n          Thêm CSV\r\n        </button>\r\n        <input\r\n          name=\"file\"\r\n          type={\"file\"}\r\n          id={\"csvFileInput\"}\r\n          accept={\".csv\"}\r\n          onChange={handleOnChange}\r\n        />\r\n      </div>\r\n\r\n      <form id=\"addProduct\" onSubmit={handleSubmit((data) => setData(data))}>\r\n        <div className=\"px-7\">\r\n          <div className=\"mt-5\">\r\n            <span>Tên sản phẩm </span>\r\n            <input\r\n              className=\"px-2 py-1 w-full border border-slate-400 rounded-lg\"\r\n              type=\"text\"\r\n              name=\"tensanpham\"\r\n              {...register(\"tensanpham\")}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mt-6\">\r\n            <span>Hình ảnh</span>\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"flex gap-4\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"default-btn\"\r\n                  className=\"hidden\"\r\n                  name=\"file\"\r\n                  onChange={(e) => {\r\n                    uploadImage(e);\r\n                  }}\r\n                  multiple\r\n                />\r\n                <div\r\n                  className=\"w-[100px] h-[100px] border border-slate-400 rounded-lg cursor-pointer\"\r\n                  onClick={() => btnActive()}\r\n                >\r\n                  <div className=\"text-[25px] text-[#ccc] text-center leading-[90px] \">\r\n                    +\r\n                  </div>\r\n                </div>\r\n                {renderImage}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-5\">\r\n            <div className=\"w-[30%]\">\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Loại sản phẩm</span>\r\n                <select\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  name=\"loaisanpham\"\r\n                  {...register(\"loaisanpham\")}\r\n                >\r\n                  {typeProduct &&\r\n                    typeProduct?.map(({ id_lsp, ten_lsp }, idx) => (\r\n                      <option key={idx} value={id_lsp}>\r\n                        {ten_lsp}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Thương hiệu</span>\r\n                <select\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  name=\"thuonghieu\"\r\n                  {...register(\"thuonghieu\")}\r\n                >\r\n                  {brand &&\r\n                    brand?.map(({ id_th, ten_th }, idx) => (\r\n                      <option key={idx} value={id_th}>\r\n                        {ten_th}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Giá bán</span>\r\n                <input\r\n                  name=\"giaban\"\r\n                  {...register(\"giaban\")}\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-[70%] mt-5\">\r\n              <span>Thông tin sản phẩm</span> <br />\r\n              <textarea\r\n                className=\"w-full p-2 border border-slate-400 rounded-lg\"\r\n                name=\"thongtinsanpham\"\r\n                id=\"\"\r\n                rows=\"10\"\r\n                {...register(\"thongtinsanpham\")}\r\n              ></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n\r\n      <form onSubmit={handleAddFormSubmit}>\r\n        <div className=\"flex justify-between gap-5 w-[50%] mt-6 px-7\">\r\n          <div className=\"w-full\">\r\n            <select\r\n              name=\"mausac\"\r\n              onChange={handleAddFormChange}\r\n              className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n            >\r\n              <option value=\"\">Màu sắc</option>\r\n              {color &&\r\n                color?.map(({ id_ms, ten_ms }, idx) => (\r\n                  <option key={idx} value={id_ms}>\r\n                    {ten_ms}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"w-full\">\r\n            <select\r\n              name=\"kichthuoc\"\r\n              onChange={handleAddFormChange}\r\n              className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n            >\r\n              <option value=\"\">Kích thước</option>\r\n              {size &&\r\n                size?.map(({ id_kt, ten_kt }, idx) => (\r\n                  <option key={idx} value={id_kt}>\r\n                    {ten_kt}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n\r\n          <button className=\"px-4 bg-slate-400 text-white rounded-lg\">\r\n            Thêm\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"mt-4 mb-10 px-7\">\r\n        <table className=\"w-[40%]\">\r\n          <thead>\r\n            <tr>\r\n              <th className=\"w-[20%] h-8 border border-slate-400\">Màu Sắc</th>\r\n              <th className=\"w-[20%] h-8 border border-slate-400\">\r\n                Kích Thước\r\n              </th>\r\n              <th className=\"w-[20%] h-8 border border-slate-400\">\r\n                Hành động\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {detailProduct?.map(({ mausac, kichthuoc }, idx) => (\r\n              <tr key={idx}>\r\n                <td className=\"text-center border border-slate-400\">\r\n                  {color.filter((item) => item.id_ms === mausac)[0].ten_ms}\r\n                </td>\r\n                <td className=\"text-center border border-slate-400\">\r\n                  {size.filter((item) => item.id_kt === kichthuoc)[0].ten_kt}\r\n                </td>\r\n                <td\r\n                  className=\"w-[20%] text-center border border-slate-400 cursor-pointer hover:bg-zinc-500\"\r\n                  onClick={() => deleteRow(idx)}\r\n                >\r\n                  x\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddProduct;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport productAPI from \"../../../../api/productAPI\";\r\nimport imageAPI from \"../../../../api/imageAPI\";\r\nimport { useNavigate, NavLink, useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport detailProductAPI from \"../../../../api/detailProductAPI\";\r\n\r\nconst defaultValues = {\r\n  giaban: \"\",\r\n  kichthuoc: \"\",\r\n  loaisanpham: \"\",\r\n  mausac: \"\",\r\n  tensanpham: \"\",\r\n  thongtinsanpham: \"\",\r\n  thuonghieu: \"\",\r\n  soluong: \"\",\r\n  gianhap: \"\",\r\n};\r\n\r\nfunction EditProduct() {\r\n  const { register, handleSubmit, reset } = useForm({ ...defaultValues });\r\n  const [dataDetailProduct, setDataDetailProduct] = useState(\"\");\r\n  const [imageUrl, setImageUrl] = useState([]);\r\n  const [listImage, setListImage] = useState([]);\r\n  const [addImage, setAddImage] = useState([]);\r\n  // const [dataDetail, setdataDetail] = useState([]);\r\n  const [detailProduct, setDetailProduct] = useState([]);\r\n  const [addFormData, setAddFormData] = useState({\r\n    idsp: \"\",\r\n    id_ms: \"\",\r\n    id_kt: \"\",\r\n    so_luong_sp: \"\",\r\n  });\r\n  const [count, setCount] = useState(0);\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  let params = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const color = useSelector((state) => state?.color?.colorlist);\r\n  const size = useSelector((state) => state?.size?.sizelist);\r\n  const brand = useSelector((state) => state?.brand?.brandlist);\r\n  const typeProduct = useSelector(\r\n    (state) => state?.typeProduct?.typeProductlist\r\n  );\r\n\r\n  const getBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = () => {\r\n        resolve(fileReader.result);\r\n      };\r\n\r\n      fileReader.onerror = (err) => {\r\n        reject(err);\r\n      };\r\n    });\r\n  };\r\n  const uploadImage = async (e) => {\r\n    const imageNumber =\r\n      e.target.files.length + imageUrl?.length + listImage?.length;\r\n    if (imageNumber <= 5) {\r\n      for (let i = 0; i < e.target.files.length; i++) {\r\n        const file = e.target.files[i];\r\n        if (!file) return;\r\n        const base64 = await getBase64(file);\r\n        setImageUrl((oldFile) => [...oldFile, { url: base64 }]);\r\n      }\r\n      setAddImage(e.target.files);\r\n    } else {\r\n      console.log(\"Image is max 5\");\r\n      enqueueSnackbar(\"Image is max 5\", {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const btnActive = () => {\r\n    document.getElementById(\"default-btn\").click();\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        // document.cookie = \"username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 UTC\";\r\n        // console.log(\"a\",document.cookie);\r\n        const resProduct = await productAPI.getProduct(params.idsp);\r\n        const resDetailProduct = await productAPI.getDetailProduct(params.idsp);\r\n        const resImage = await imageAPI.getImage(params.idsp);\r\n        setListImage(resImage);\r\n        setDetailProduct(resDetailProduct);\r\n        reset({\r\n          tensanpham: resProduct[0].ten_sp,\r\n          thongtinsanpham: resProduct[0].thong_tin_sp,\r\n          giaban: resProduct[0]?.gia_ban_sp,\r\n          gianhap: resProduct[0]?.gia_nhap_sp,\r\n          kichthuoc: resProduct[0]?.id_kt,\r\n          loaisanpham: resProduct[0]?.id_lsp,\r\n          mausac: resProduct[0]?.id_ms,\r\n          thuonghieu: resProduct[0]?.id_th,\r\n        });\r\n        setDataDetailProduct(resProduct);\r\n      } catch (error) {\r\n        enqueueSnackbar(error.message, {\r\n          variant: \"error\",\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    })(); // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [reset, count]);\r\n\r\n  const dataProduct = (data) => {\r\n    return {\r\n      giaban: data.giaban,\r\n      kichthuoc: data.kichthuoc,\r\n      loaisanpham: data.loaisanpham,\r\n      mausac: data.mausac,\r\n      tensanpham: data.tensanpham,\r\n      thongtinsanpham: data.thongtinsanpham,\r\n      thuonghieu: data.thuonghieu,\r\n    };\r\n  };\r\n \r\n  const setData = async (data) => {\r\n    const formData = new FormData();\r\n    try {\r\n      await productAPI.updateProduct(params.idsp, dataProduct(data));\r\n      await detailProductAPI.removeUpdate(params.idsp);\r\n\r\n      if (detailProduct) {\r\n        console.log(detailProduct);\r\n        for (let i = 0; i < detailProduct.length; i++) {\r\n          await detailProductAPI.updateDetailproduct({\r\n            idsp: detailProduct[i]?.id_sp,\r\n            idkt: detailProduct[i]?.id_kt,\r\n            idms: detailProduct[i]?.id_ms,\r\n            soluong: detailProduct[i]?.so_luong_sp,\r\n          });\r\n        }\r\n      }\r\n\r\n      enqueueSnackbar(\"Sửa sản phẩm thành công\", {\r\n        variant: \"success\",\r\n        autoHideDuration: 2000,\r\n      });\r\n\r\n      navigate(\"/manage/product/listproducts\", { replace: true });\r\n      for (let i = 0; i < addImage?.length; i++) {\r\n        formData.append(\"photos\", addImage[i]);\r\n      }\r\n      formData.append(\"idsp\", params.idsp);\r\n      await imageAPI.createImage(formData);\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleRemoveImage = (e) => {\r\n    const name = e.target.getAttribute(\"name\");\r\n    setImageUrl(imageUrl.filter((item) => item.url !== name));\r\n  };\r\n\r\n  const deleteImage = async (id) => {\r\n    try {\r\n      await imageAPI.deleteImage(id);\r\n      setCount((e) => e + 1);\r\n    } catch (error) {\r\n      enqueueSnackbar(error.message, {\r\n        variant: \"error\",\r\n        autoHideDuration: 2000,\r\n      });\r\n    }\r\n  };\r\n  const renderImage = imageUrl?.map((urlImage, idx) => {\r\n    return (\r\n      <div className=\"relative\" key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={urlImage.url}\r\n          alt=\"anhsanpham\"\r\n        />\r\n        <div\r\n          className=\"absolute -top-1 -right-1 bg-red-600 text-center text-[12px] text-white px-[6px] rounded-full cursor-pointer\"\r\n          name={urlImage.url}\r\n          onClick={handleRemoveImage}\r\n        >\r\n          x\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const editImage = listImage?.map(({ id_ha, hinh_anh_sp }, idx) => {\r\n    return (\r\n      <div className=\"relative\" key={idx}>\r\n        <img\r\n          className=\"w-[100px] h-[100px] rounded-lg\"\r\n          src={hinh_anh_sp.slice(12, hinh_anh_sp.length)}\r\n          alt=\"anhsanpham\"\r\n        />\r\n        <div\r\n          className=\"absolute -top-1 -right-1 bg-red-600 text-center text-[12px] text-white px-[6px] rounded-full cursor-pointer\"\r\n          onClick={() => deleteImage(id_ha)}\r\n        >\r\n          x\r\n        </div>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  const handleAddFormChange = (e) => {\r\n    e.preventDefault();\r\n    const fieldName = e.target.getAttribute(\"name\");\r\n    const fieldValue = e.target.value;\r\n    const newFormData = { ...addFormData };\r\n\r\n    newFormData[fieldName] = fieldValue;\r\n    setAddFormData(newFormData);\r\n  };\r\n\r\n  const handleAddFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const newDetailProduct = {\r\n      id_sp: params.idsp,\r\n      id_ms: addFormData.mausac,\r\n      id_kt: addFormData.kichthuoc,\r\n      so_luong_sp: addFormData.soluong,\r\n    };\r\n    const newDetailProducts = [...detailProduct, newDetailProduct];\r\n    setDetailProduct(newDetailProducts);\r\n  };\r\n  const deleteRow = (idrow) => {\r\n    setDetailProduct(detailProduct.filter((item,index)=> index !== idrow));\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <NavLink to=\"/manage/product/listproducts\">\r\n        <button className=\"ml-7 px-10 py-2 mb-5 text-white bg-slate-400 rounded shadow-lg\">\r\n          Trở về\r\n        </button>\r\n      </NavLink>\r\n      <form id=\"addProduct\" onSubmit={handleSubmit((data) => setData(data))}>\r\n        <div className=\"px-7\">\r\n          <div className=\"mt-5\">\r\n            <span>Tên sản phẩm </span>\r\n            <input\r\n              className=\"px-2 py-1 w-full border border-slate-400 rounded-lg\"\r\n              type=\"text\"\r\n              name=\"tensanpham\"\r\n              defaultValue={dataDetailProduct[0]?.ten_sp}\r\n              {...register(\"tensanpham\")}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mt-5\">\r\n            <span>Thông tin sản phẩm</span> <br />\r\n            <textarea\r\n              className=\"w-full p-2 h-[200px] border border-slate-400 rounded-lg\"\r\n              name=\"thongtinsanpham\"\r\n              id=\"\"\r\n              rows=\"10\"\r\n              ref={register}\r\n              {...register(\"thongtinsanpham\")}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div>\r\n            <span>Hình ảnh</span>\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"flex gap-4\">\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"default-btn\"\r\n                  className=\"hidden\"\r\n                  name=\"file\"\r\n                  onChange={(e) => {\r\n                    uploadImage(e);\r\n                  }}\r\n                  multiple\r\n                />\r\n                <div\r\n                  className=\"w-[100px] h-[100px] border border-slate-400 rounded-lg cursor-pointer\"\r\n                  onClick={() => btnActive()}\r\n                >\r\n                  <div className=\"text-[25px] text-[#ccc] text-center leading-[90px] \">\r\n                    +\r\n                  </div>\r\n                </div>\r\n                {renderImage}\r\n                {editImage}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-5\">\r\n            <div>\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Loại sản phẩm</span>\r\n                <select\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  name=\"loaisanpham\"\r\n                  id=\"\"\r\n                  ref={register}\r\n                  {...register(\"loaisanpham\")}\r\n                >\r\n                  {typeProduct &&\r\n                    typeProduct?.map(({ id_lsp, ten_lsp }, idx) => (\r\n                      <option key={idx} value={id_lsp}>\r\n                        {ten_lsp}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Thương hiệu</span>\r\n                <select\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  name=\"thuonghieu\"\r\n                  id=\"\"\r\n                  ref={register}\r\n                  {...register(\"thuonghieu\")}\r\n                >\r\n                  {brand &&\r\n                    brand?.map(({ id_th, ten_th }, idx) => (\r\n                      <option key={idx} value={id_th}>\r\n                        {ten_th}\r\n                      </option>\r\n                    ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* <div className=\"mt-5\">\r\n                <span className=\"block\">Giá nhập</span>\r\n                <input\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  type=\"text\"\r\n                  name=\"gianhap\"\r\n                  ref={register}\r\n                  {...register(\"gianhap\")}\r\n                />\r\n              </div> */}\r\n\r\n              <div className=\"mt-5\">\r\n                <span className=\"block\">Giá bán</span>\r\n                <input\r\n                  className=\"p-1 w-[200px] border border-slate-400 rounded-lg\"\r\n                  type=\"text\"\r\n                  name=\"giaban\"\r\n                  ref={register}\r\n                  {...register(\"giaban\")}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mt-5\">\r\n          <button className=\"mt-1 ml-7 px-10 py-2 text-white bg-sky-600 rounded shadow-lg\">\r\n            Sửa\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      <form onSubmit={handleAddFormSubmit}>\r\n        <div className=\"flex justify-between gap-6 w-[40%] mt-6 mb-10 px-7  absolute top-[63%] left-[18%]\">\r\n          <div className=\"w-[30%]\">\r\n            <select\r\n              name=\"mausac\"\r\n              onChange={handleAddFormChange}\r\n              className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n            >\r\n              <option value=\"\">Màu sắc</option>\r\n              {color &&\r\n                color?.map(({ id_ms, ten_ms }, idx) => (\r\n                  <option key={idx} value={id_ms}>\r\n                    {ten_ms}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"w-[30%]\">\r\n            <select\r\n              name=\"kichthuoc\"\r\n              onChange={handleAddFormChange}\r\n              className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n            >\r\n              <option value=\"\">Kích thước</option>\r\n              {size &&\r\n                size?.map(({ id_kt, ten_kt }, idx) => (\r\n                  <option key={idx} value={id_kt}>\r\n                    {ten_kt}\r\n                  </option>\r\n                ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"w-[30%]\">\r\n            <input\r\n              name=\"soluong\"\r\n              placeholder=\"Số lượng\"\r\n              onChange={handleAddFormChange}\r\n              className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n              type=\"number\"\r\n              min={0}\r\n            \r\n            />\r\n          </div>\r\n          <button className=\"px-4 bg-slate-400 rounded-lg\">Thêm</button>\r\n        </div>\r\n      </form>\r\n      <div className=\"absolute top-[72%] w-[35%] left-[20%]\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th className=\"h-8 border border-slate-400 w-[20%]\">Màu Sắc</th>\r\n              <th className=\"h-8 border border-slate-400 w-[20%]\">Kích Thước</th>\r\n              <th className=\"h-8 border border-slate-400 w-[20%]\">Số Lượng</th>\r\n              <th className=\"h-8 border border-slate-400 w-[20%]\">Hành động</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {detailProduct?.map(({ id_ms, id_kt, so_luong_sp }, idx) => (\r\n              <tr key={idx}>\r\n                <td className=\"w-[20%] text-center border border-slate-400\">\r\n                  {color.filter((item) => item.id_ms === id_ms)[0].ten_ms}\r\n                </td>\r\n                <td className=\"w-[20%] text-center border border-slate-400\">\r\n                  {size.filter((item) => item.id_kt === id_kt)[0].ten_kt}\r\n                </td>\r\n                <td className=\"w-[20%] text-center border border-slate-400\">\r\n                  {so_luong_sp}\r\n                </td>\r\n                <td\r\n                  className=\"w-[20%] text-center border border-slate-400 cursor-pointer hover:bg-zinc-500\"\r\n                  onClick={() => deleteRow(idx)}\r\n                >\r\n                  x\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditProduct;\r\n","import React, {useEffect} from \"react\";\r\nimport {Route, Routes} from \"react-router-dom\";\r\nimport ListProducts from \"./ListProducts\";\r\nimport AddProduct from \"./AddProduct\";\r\nimport EditProduct from \"./EditProduct\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {unwrapResult} from \"@reduxjs/toolkit\";\r\n\r\nimport {color} from \"../../../redux/colorSlice\";\r\nimport {brand} from \"../../../redux/brandSlice\";\r\nimport {size} from \"../../../redux/sizeSlice\";\r\nimport {typeProduct} from \"../../../redux/typeProductSlice\";\r\n\r\nfunction Product() {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        unwrapResult(dispatch(await color()));\r\n        unwrapResult(dispatch(await brand()));\r\n        unwrapResult(dispatch(await size()));\r\n        unwrapResult(dispatch(await typeProduct()));\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Routes>\r\n        <Route path=\"/add\" element={<AddProduct />} />\r\n        <Route path=\"/listproducts\" element={<ListProducts />} />\r\n        <Route path=\"/edit/:idsp\" element={<EditProduct />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst detailProductAPI = {\r\n  createdetailProductAPI(data) {\r\n    const API_URL = \"/api/detail_product/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n\r\n  updateNumberProduct(data) {\r\n    const API_URL = `/api/detail_product/update_number_product`;\r\n    return axiosClient.put(API_URL, data);\r\n  },\r\n\r\n  getAllNumber() {\r\n    const API_URL = \"/api/detail_product/list\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getList(idsp) {\r\n    const API_URL = `/api/detail_product/list/${idsp}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getListColor(idsp, idms) {\r\n    const API_URL = `/api/detail_product/size/${idsp}/${idms}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getProductByNow(params) {\r\n    const API_URL = \"/api/detail_product/buy_now\";\r\n    return axiosClient.get(API_URL, {params});\r\n  },\r\n\r\n  getNumberProduct(idsp, idkt, idms) {\r\n    const API_URL = `/api/detail_product/number_product/${idsp}/${idms}/${idkt}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  removeProduct(data) {\r\n    const API_URL = \"/api/detail_product/remove_product\";\r\n    return axiosClient.put(API_URL, data);\r\n  },\r\n\r\n  addNumberProduct(data) {\r\n    const API_URL = \"/api/detail_product/add_product\";\r\n    return axiosClient.put(API_URL, data);\r\n  },\r\n\r\n  getNumberOneProduct(params) {\r\n    const API_URL = \"/api/detail_product/number_product\";\r\n    return axiosClient.get(API_URL, {params});\r\n  },\r\n  removeUpdate(params){\r\n    const API_URL = `/api/detail_product/removeUpdate/${params}`;\r\n    return axiosClient.put(API_URL);\r\n  },\r\n  updateDetailproduct(data){\r\n    const API_URL = \"/api/detail_product/update\";\r\n    return axiosClient.post(API_URL, data);\r\n  }\r\n\r\n};\r\n\r\nexport default detailProductAPI;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst imageAPI = {\r\n  createImage(data) {\r\n    console.log(data)\r\n    const API_URL = \"/api/manage/photos/upload\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  getImage(id) {\r\n    const API_URL = `/api/manage/photos/id=${id}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  deleteImage(id) {\r\n    const API_URL = `/api/manage/photos/delete=${id}`;\r\n    return axiosClient.delete(API_URL);\r\n  },\r\n};\r\n\r\nexport default imageAPI;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst importInvoiceAPI = {\r\n  createImportInvoiceAPI(data) {\r\n    const API_URL = \"/api/manage/importInvoice/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  getListImportInvoiceAPI() {\r\n    const API_URL = \"/api/manage/importInvoice/list\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n  getId() {\r\n    const API_URL = \"/api/manage/importInvoice/id\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n  deleteImportInvoice(id) {\r\n    const API_URL = `/api/manage/importInvoice/delete/id=${id}`;\r\n    return axiosClient.delete(API_URL);\r\n  },\r\n\r\n\r\n  sumPriceInvoice(idhdn) {\r\n    const API_URL = `/api/manage/importInvoice/sum_price/idhdn=${idhdn}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  sumPriceInvoices() {\r\n    const API_URL = \"/api/manage/importInvoice/sum_price\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n};\r\n\r\nexport default importInvoiceAPI;\r\n"],"names":["createDiscount","data","axiosClient","getDiscount","id","API_URL","getList","deleteDiscount","style","position","top","left","transform","width","bgcolor","p","defaultValues","priceDiscount","EndDate","Date","schema","yup","shape","required","useForm","resolver","yupResolver","register","handleSubmit","formState","errors","isSubmitSuccessful","reset","useState","IdPD","setIdPD","openInfor","setOpenInfor","openDiscount","setOpenDiscount","dataDetailProduct","setDataDetailProduct","dataBrand","setDataBrand","setDataColor","setDataSize","dataImage","setDataImage","dataTypeProduct","setDataTypeProduct","infoProducts","setInfoProducts","count","setCount","discount","setDiscount","enqueueSnackbar","useSnackbar","dataProduct","setDataProduct","handleCloseDiscount","navigate","useNavigate","useEffect","productAPI","res","message","variant","autoHideDuration","deleteProduct","id_sp","id_hdn","importInvoiceAPI","e","detailProduct","idsp","detailProductAPI","result","resProduct","colorAPI","id_ms","resColor","typeProductAPI","id_lsp","resTypeProduct","brandAPI","id_th","resBrand","sizeAPI","id_kt","resSize","imageAPI","resImage","discountAPI","resDiscount","addDiscount","columns","field","headerName","headerAlign","align","renderCell","params","className","onClick","row","replace","rows","map","idx","ten_sp","gia_ban_sp","gia_nhap_sp","ngay_lap_hdx","so_luong_hdn","gia_ban","Intl","NumberFormat","currency","format","ngay_nhap","moment","renderImage","hinh_anh_sp","src","slice","length","alt","dataDiscount","giakm","hankhuyenmai","endDate","setData","height","DataGrid","pageSize","rowsPerPageOptions","rowHeight","Modal","open","onClose","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Box","sx","borderRadius","Typography","component","Grid","container","spacing","item","xs","mt","toLocaleString","ten_lsp","ten_kt","ten_ms","ten_th","gia_km","thong_tin_sp","display","gap","gridTemplateColumns","onSubmit","type","name","id_km","createCSV","createdetailCSV","createImageCSV","kichthuoc","loaisanpham","tensanpham","thongtinsanpham","thuonghieu","giaban","imageUrl","setImageUrl","listImage","setListImage","submittedData","setSubmittedData","setDetailProduct","mausac","addFormData","setAddFormData","file","setFile","color","useSelector","state","colorlist","size","sizelist","brand","brandlist","typeProduct","typeProductlist","getBase64","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","onerror","err","uploadImage","target","files","i","base64","oldFile","url","idkt","idms","formData","FormData","console","log","append","handleRemoveImage","getAttribute","filter","urlImage","handleAddFormChange","preventDefault","fieldName","fieldValue","value","newFormData","handleOnSubmit","form","csvAPI","status","accept","onChange","multiple","document","getElementById","click","newDetailProduct","newDetailProducts","idrow","index","soluong","gianhap","addImage","setAddImage","so_luong_sp","useParams","resDetailProduct","deleteImage","editImage","id_ha","to","defaultValue","ref","placeholder","min","dispatch","useDispatch","unwrapResult","path","element","createdetailProductAPI","updateNumberProduct","getAllNumber","getListColor","getProductByNow","getNumberProduct","removeProduct","addNumberProduct","getNumberOneProduct","removeUpdate","updateDetailproduct","createImage","getImage","createImportInvoiceAPI","getListImportInvoiceAPI","getId","deleteImportInvoice","sumPriceInvoice","idhdn","sumPriceInvoices"],"sourceRoot":""}
(self.webpackChunkviews=self.webpackChunkviews||[]).push([[856],{41856:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var i=t(74165),s=t(15861),a=t(70885),r=t(72791),c=t(57689),l=(t(64785),t(26241)),o=t(16030),d=t(8486),u=t(71630),h=t(28424),m=t(9672),v=t(63048),g=t(90123),x=t(85027),p=t(38033),f=t(78894),_=t(72426),j=t.n(_),N=t(38447),w=t(80184);var b=function(e){var n=e.data,t=(0,r.useState)([]),c=(0,a.Z)(t,2),l=c[0],o=c[1];return(0,r.useEffect)((function(){(0,s.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.getImage(n.id_dg);case 2:t=e.sent,console.log(t),o(t);case 5:case"end":return e.stop()}}),e)})))()}),[]),(0,w.jsxs)("div",{className:"mt-4 py-2 px-4 bg-slate-50 rounded-lg border",children:[(0,w.jsxs)("div",{className:"flex justify-between",children:[(0,w.jsx)("p",{className:"text-slate-500",children:(0,w.jsx)("i",{children:j()(n.ngay_dg).format("DD-MM-YYYY")})}),(0,w.jsx)(N.Z,{name:"my-2 simple-controlled",size:"large",value:n.so_sao,readOnly:!0})]}),(0,w.jsx)("div",{className:"flex gap-5 my-2",children:null===l||void 0===l?void 0:l.map((function(e,n){var t=e.hinh_anh_dg;return(0,w.jsx)("div",{children:(0,w.jsx)("img",{className:"w-[100px] h-[100px] rounded-lg",src:t.slice(12,t.length),alt:"hinh anh san pham"})},n)}))}),(0,w.jsxs)("p",{className:"my-2 text-slate-700",children:["\u0110\xe1nh gi\xe1: ",(0,w.jsx)("span",{children:n.noi_dung_dg})]})]})};var Z=function(){var e,n,t,_,j,Z,y,k,S,D,P=(0,o.v9)((function(e){var n,t;return null===(n=e.user.current)||void 0===n||null===(t=n.dataUser)||void 0===t?void 0:t.length}));console.log(P);var C=(0,c.UO)(),V=(0,o.I0)(),L=(0,c.s0)(),I=(0,l.Ds)().enqueueSnackbar,z=(0,r.useState)([]),F=(0,a.Z)(z,2),q=F[0],H=F[1],R=(0,r.useState)([]),M=(0,a.Z)(R,2),O=M[0],T=M[1],K=(0,r.useState)([]),Y=(0,a.Z)(K,2),E=Y[0],A=Y[1],B=(0,r.useState)(""),U=(0,a.Z)(B,2),G=U[0],W=U[1],J=(0,r.useState)([]),X=(0,a.Z)(J,2),Q=(X[0],X[1]),$=(0,r.useState)([]),ee=(0,a.Z)($,2),ne=ee[0],te=ee[1],ie=(0,r.useState)([]),se=(0,a.Z)(ie,2),ae=se[0],re=se[1],ce=(0,r.useState)([]),le=(0,a.Z)(ce,2),oe=le[0],de=le[1],ue=(0,r.useState)(""),he=(0,a.Z)(ue,2),me=he[0],ve=he[1],ge=(0,r.useState)(""),xe=(0,a.Z)(ge,2),pe=xe[0],fe=xe[1],_e=(0,r.useState)([]),je=(0,a.Z)(_e,2),Ne=je[0],we=je[1],be=(0,o.v9)((function(e){var n;return null===(n=e.cart)||void 0===n?void 0:n.cartItem}));(0,r.useEffect)((function(){(0,s.Z)((0,i.Z)().mark((function e(){var n,t,s,a,r,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.getProduct(C.SP);case 2:return t=e.sent,e.next=5,v.Z.getImage(C.SP);case 5:return s=e.sent,e.next=8,g.Z.getColor(C.SP);case 8:return a=e.sent,e.next=11,x.Z.getReviewProduct(C.SP);case 11:return r=e.sent,e.next=14,x.Z.getdanhgia(C.SP);case 14:return c=e.sent,e.next=17,f.Z.getImage(null===(n=r[0])||void 0===n?void 0:n.id_dg);case 17:l=e.sent,de(l),Q(r),A(a),T(s),H(t),we(c);case 24:case"end":return e.stop()}}),e)})))()}),[C,be]);var Ze=Ne.reduce((function(e,n){return e+n.so_sao}),0),ye=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n,t){var s,a,r,c,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.getListColor(C.SP,t);case 2:for(s=e.sent,te(s),ve(t),fe(""),a=document.querySelectorAll(".tabcolor"),r=0;r<a.length;r++)a[r].classList.remove("active__color");for(n.target.classList.add("active__color"),c=document.querySelectorAll(".tabsize"),l=0;l<c.length;l++)c[l].classList.remove("active__size");case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),ke=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n,t){var s,a,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.Z.getNumberProduct(C.SP,t,me);case 2:for(s=e.sent,re(s[0].so_luong_sp),fe(s),a=document.querySelectorAll(".tabsize"),r=0;r<a.length;r++)a[r].classList.remove("active__size");n.target.classList.add("active__size");case 8:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return oe&&(null===oe||void 0===oe||oe.map((function(e,n){var t=e.hinh_anh_dg;return(0,w.jsx)("div",{children:(0,w.jsx)("img",{className:"w-[100px] h-[100px] rounded-lg",src:t.slice(12,t.length),alt:"hinh anh san pham"})},n)}))),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex gap-10 mt-[50px] w-[75%] mx-auto",children:[(0,w.jsxs)("div",{className:"flex gap-2 w-[50%]",children:[(0,w.jsx)("div",{children:null===O||void 0===O?void 0:O.map((function(e,n){var t=e.hinh_anh_sp;return(0,w.jsx)("div",{onClick:function(){W(t)},className:"mb-2 w-[100px] h-[100px]",children:(0,w.jsx)("img",{className:"rounded-lg cursor-pointer",src:t.slice(12,t.length),alt:""})},n)}))}),(0,w.jsx)("div",{children:(0,w.jsxs)("div",{className:"screen-image",children:[(0,w.jsx)("img",{className:"screen-image__img",src:G?G.slice(12,G.length):null===(e=O[0])||void 0===e?void 0:e.hinh_anh_sp.slice(12,null===(n=O[0])||void 0===n?void 0:n.hinh_anh_sp.length),alt:""}),(0,w.jsx)("div",{className:"screen-image__cover"})]})})]}),(0,w.jsxs)("div",{className:"w-[50%]",children:[(0,w.jsx)("div",{className:"mb-8",children:(0,w.jsx)("p",{className:"text-4xl font-bold",children:null===(t=q[0])||void 0===t?void 0:t.ten_sp})}),(0,w.jsx)("div",{className:"mb-8",children:null!==(_=q[0])&&void 0!==_&&_.gia_km?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{className:"text-2xl font-bold text-red-800",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format((null===(Z=q[0])||void 0===Z?void 0:Z.gia_ban_sp)-(null===(y=q[0])||void 0===y?void 0:y.gia_ban_sp)*(null===(k=q[0])||void 0===k?void 0:k.gia_km)/100)}),(0,w.jsx)("span",{className:"ml-4 text-1xl text-slate-500 line-through",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(null===(S=q[0])||void 0===S?void 0:S.gia_ban_sp)})]}):(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("span",{className:"text-2xl font-bold text-red-800",children:new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(null===(j=q[0])||void 0===j?void 0:j.gia_ban_sp)})})}),(0,w.jsxs)("div",{className:"flex gap-5 items-center mb-8 min-h-[50px]",children:[(0,w.jsx)("div",{children:(0,w.jsx)("p",{className:"text-[18px]",children:"M\xe0u s\u1eafc"})}),null===E||void 0===E?void 0:E.map((function(e,n){var t=e.id_ms,i=e.ten_ms;return(0,w.jsx)("button",{onClick:function(e){return ye(e,t)},className:"tabcolor p-2 min-w-[50px] text-center bg-slate-300 rounded-lg",children:i},n)}))]}),(0,w.jsxs)("div",{className:"flex gap-5 items-center mb-8 min-h-[50px]",children:["K\xedch th\u01b0\u1edbc",null===ne||void 0===ne?void 0:ne.map((function(e,n){var t=e.id_kt,i=e.ten_kt;return(0,w.jsx)("button",{onClick:function(e){return ke(e,t)},className:"tabsize p-2 min-w-[50px] text-center bg-slate-300 rounded-lg",children:i},n)}))]}),(0,w.jsx)("div",{className:"mb-8",children:ae>=0?(0,w.jsxs)(w.Fragment,{children:["S\u1ed1 l\u01b0\u1ee3ng: ",ae]}):(0,w.jsx)(w.Fragment,{})}),(0,w.jsxs)("div",{className:"mb-8 flex gap-5",children:[(0,w.jsx)("button",{onClick:function(){return function(){if(!P)return I("Vui l\xf2ng \u0111\u0103ng nh\u1eadp",{variant:"error",autoHideDuration:2e3}),L("/shop/login");var e,n;pe?ae>0?(L("/shop/order/detail_pay_order"),V((0,h.SS)([{id_sp:C.SP,ten_sp:q[0].ten_sp,id_ms:pe[0].id_ms,id_kt:pe[0].id_kt,ten_ms:pe[0].ten_ms,soluong:ae,ten_kt:pe[0].ten_kt,giam_gia:q[0].gia_km,gia_ban:q[0].gia_ban_sp,hinh_anh:null===(e=O[0])||void 0===e?void 0:e.hinh_anh_sp.slice(12,null===(n=O[0])||void 0===n?void 0:n.hinh_anh_sp.length),so_luong_xuat:1,type:"buynow"}]))):I("S\u1ea3n ph\u1ea9m \u0111\xe3 h\u1ebft h\xe0ng",{variant:"error",autoHideDuration:2e3}):I("Vui l\xf2ng ch\u1ecdn m\xe0u s\u1eafc v\xe0 k\xedch th\u01b0\u1edbc",{variant:"error",autoHideDuration:2e3})}()},className:"py-3 px-5 text-[18px] text-white font-bold bg-green-600 rounded-lg shadow-lg",children:"Mua Ngay"}),(0,w.jsx)("button",{onClick:function(){var e;return function(e){if(!P)return I("Vui l\xf2ng \u0111\u0103ng nh\u1eadp",{variant:"error",autoHideDuration:2e3}),L("/shop/login");var n,t,i,s,a,r,c,l,o,d;pe?ae>0?(V((0,u.K6)({id_sp:e,ten_sp:null===(n=q[0])||void 0===n?void 0:n.ten_sp,id_ms:null===(t=pe[0])||void 0===t?void 0:t.id_ms,id_kt:null===(i=pe[0])||void 0===i?void 0:i.id_kt,ten_ms:null===(s=pe[0])||void 0===s?void 0:s.ten_ms,ten_kt:null===(a=pe[0])||void 0===a?void 0:a.ten_kt,so_luong_xuat:JSON.parse(1),soluong:ae,gia_ban:null===(r=q[0])||void 0===r?void 0:r.gia_ban_sp,hinh_anh:null===(c=O[0])||void 0===c?void 0:c.hinh_anh_sp.slice(12,null===(l=O[0])||void 0===l?void 0:l.hinh_anh_sp.length),giam_gia:null!==(o=q[0])&&void 0!==o&&o.gia_km?null===(d=q[0])||void 0===d?void 0:d.gia_km:0,type:"cart"})),I("\u0110\xe3 th\xeam v\xe0o gi\u1ecf h\xe0ng",{variant:"success",autoHideDuration:2e3})):I("S\u1ea3n ph\u1ea9m \u0111\xe3 h\u1ebft h\xe0ng",{variant:"error",autoHideDuration:2e3}):I("Vui l\xf2ng ch\u1ecdn m\xe0u s\u1eafc v\xe0 k\xedch th\u01b0\u1edbc",{variant:"error",autoHideDuration:2e3})}(null===(e=q[0])||void 0===e?void 0:e.id_sp)},className:"py-3 px-5 text-[18px] text-white font-bold bg-green-600 rounded-lg shadow-lg",children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"})]}),(0,w.jsx)("div",{className:"w-full leading-10"})]})]}),(0,w.jsx)("hr",{className:"w-[75%] mx-auto mt-5"}),(0,w.jsxs)("div",{className:"flex gap-10 mt-[50px] w-[75%] mx-auto",children:[(0,w.jsxs)("div",{className:"w-1/2",children:[(0,w.jsx)("p",{className:"text-[22px] text-center font-medium",children:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"}),(0,w.jsx)("p",{children:null===(D=q[0])||void 0===D?void 0:D.thong_tin_sp})]}),(0,w.jsxs)("div",{className:"w-1/2",children:[(0,w.jsxs)("div",{className:"flex justify-end",children:[(0,w.jsx)("p",{className:"text-[22px] text-center font-medium mr-[15%]",children:"\u0110\xe1nh Gi\xe1"}),(0,w.jsxs)("p",{className:"text-[22px] text-center font-medium ml-5",children:[(0,w.jsx)("sup",{children:isNaN(Ze/Ne.length)?"":(Ze/Ne.length).toFixed(0)}),"/",(0,w.jsx)("sub",{children:"5"})]}),(0,w.jsx)(N.Z,{value:Ze/Ne.length,readOnly:!0,size:"large"})]}),(0,w.jsx)("div",{className:"overflow-y-auto h-[calc(230px)]",children:null===Ne||void 0===Ne?void 0:Ne.map((function(e,n){var t=e.so_sao,i=e.noi_dung_dg,s=e.ngay_dg,a=e.id_dg,r=e.trang_thai_dg;return(0,w.jsx)("div",{children:0===r?(0,w.jsx)(b,{data:{id_dg:a,so_sao:t,noi_dung_dg:i,ngay_dg:s}},n):(0,w.jsx)(w.Fragment,{})},n)}))})]})]}),(0,w.jsx)(d.Z,{})]})}},64785:function(){window.onclick=function(){var e=document.querySelector(".screen-image__cover");e.addEventListener("mousemove",(function(e){var n,t,i=document.querySelector(".screen-image"),s=document.querySelector(".screen-image__img");s.style="width: auto; height: auto; max-height: unset";var a=s.offsetWidth,r=s.offsetHeight,c=i.offsetWidth,l=i.offsetHeight;r+=2*(r/2-l);var o=(a+=2*(a/2-c))/c/2*(e.pageX-(null===(n=i.offsetParent)||void 0===n?void 0:n.offsetLeft)-i.offsetLeft),d=r/l/2*(e.pageY-(null===(t=i.offsetParent)||void 0===t?void 0:t.offsetTop)-i.offsetTop);s.style="left: ".concat(-o,"px; top: ").concat(-d,"px; width: auto; max-height: unset; transform: none;")})),e.addEventListener("mouseleave",(function(e){document.querySelector(".screen-image__img").style=""}))}},78894:function(e,n,t){"use strict";var i=t(65608),s={createImageRV:function(e){return i.Z.post("/api/manage/review/photos/upload",e)},getImage:function(e){var n="/api/manage/image_review/iddg=".concat(e);return i.Z.get(n)}};n.Z=s},85027:function(e,n,t){"use strict";var i=t(65608),s={createreview:function(e){return i.Z.post("/api/manage/review/add",e)},getListReview:function(){return i.Z.get("/api/manage/review/list")},getReview:function(e){var n="/api/manage/review/idhdx=".concat(e);return i.Z.get(n)},getReviewProduct:function(e){var n="/api/manage/review/idsp=".concat(e);return i.Z.get(n)},getdanhgia:function(e){var n="/api/manage/danhgia/idsp=".concat(e);return i.Z.get(n)},getReviewInvoice:function(e){var n="/api/manage/review/idhdx=".concat(e);return i.Z.get(n)},getOneReview:function(e){return i.Z.get("/api/manage/one_review",{params:e})},updateStatus:function(e,n){var t="/api/manage/update_status/status=".concat(n,"/iddg=").concat(e);return i.Z.put(t)},deleteReview:function(e){var n="/api/manage/review/delete/iddg=".concat(e);return i.Z.delete(n)}};n.Z=s},8486:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});t(72791);var i=t(39126),s=t(80184);var a=function(){return(0,s.jsx)("div",{className:" mt-10 p-6 text-white bg-slate-700  opacity-90 shadow-md container",children:(0,s.jsxs)("div",{className:"flex gap-6 leading-8 h-[100%] justify-center items-center",children:[(0,s.jsxs)("div",{className:"w-[25%]  ml-[10%]  ",children:[(0,s.jsx)("span",{className:"text-[30px] font-[900] bg-text-color bg-clip-text  ",children:"DShop"}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)("p",{children:["Trinh Khanh Duy ",(0,s.jsx)("br",{})," B1809558 - Can Tho University ",(0,s.jsx)("br",{})," \u0110\xe3 \u0111\u0103ng k\xfd B\u1ea3n quy\u1ec1n."]})})]}),(0,s.jsxs)("div",{className:"w-[25%] text-center ",children:[(0,s.jsx)("p",{className:"text-[25px] font-bold",children:"C\u1eeda h\xe0ng"}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("p",{children:"Th\xf4ng tin"}),(0,s.jsx)("p",{children:"Gi\u1edbi thi\u1ec7u"}),(0,s.jsx)("p",{children:"Li\xean h\u1ec7"}),(0,s.jsx)("p",{children:"V\u1ec1 ch\xfang t\xf4i"})]})]}),(0,s.jsxs)("div",{className:"w-[25%]  ",children:[(0,s.jsx)("p",{className:"text-[25px] font-bold",children:"D\u1ecbch v\u1ee5"}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsx)("p",{children:"Ch\xednh s\xe1ch"}),(0,s.jsx)("p",{children:"Cam k\u1ebft v\xe0 b\u1ea3o h\xe0nh"}),(0,s.jsx)("p",{children:"\u0110i\u1ec1u kho\u1ea3n"}),(0,s.jsx)("p",{children:"B\u1ea3o m\u1eadt"})]})]}),(0,s.jsxs)("div",{className:"w-[20%] ",children:[(0,s.jsx)("p",{className:"text-[25px] font-bold",children:"M\u1ea1ng x\xe3 h\u1ed9i"}),(0,s.jsxs)("div",{className:"mt-6",children:[(0,s.jsxs)("div",{className:"mt-4 flex gap-4 items-center",children:[(0,s.jsx)(i.Vs6,{size:25})," ",(0,s.jsx)("p",{children:"@Khanh_Duy"})]}),(0,s.jsxs)("div",{className:"mt-4 flex gap-4 items-center",children:[(0,s.jsx)(i.k1O,{size:25})," ",(0,s.jsx)("p",{children:"@Khanh_Duy"})]})]})]})]})})}}}]);
//# sourceMappingURL=856.e248c554.chunk.js.map
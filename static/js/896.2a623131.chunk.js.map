{"version":3,"file":"static/js/896.2a623131.chunk.js","mappings":"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","sources":["Manage/pages/Delivery/index.jsx","api/deliverAPI.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport deliverAPI from \"../../../api/deliverAPI\";\r\nimport moment from \"moment\";\r\nfunction Delivery() {\r\n  const [invoice, setInvoice] = useState([]);\r\n  const [ship, setShip] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const res = await deliverAPI.getAllInvoice();\r\n      setInvoice(res);\r\n      const ten_nvship = await deliverAPI.getnameShip();\r\n      setShip(ten_nvship);\r\n    })();\r\n  }, []);\r\n  const handleAddFormChange = async (e) => {\r\n    e.preventDefault();\r\n    const fieldValue = e.target.value;\r\n    const getPriceShip = await deliverAPI.getPriceShip(fieldValue);\r\n    setInvoice(getPriceShip);\r\n  };\r\n  console.log(invoice);\r\n  return (\r\n    <div className=\"px-[20px] \">\r\n      <div className=\"w-[10%]\">\r\n        <select\r\n          name=\"nv\"\r\n          onChange={handleAddFormChange}\r\n          className=\"h-8 px-2 w-full border border-slate-400 outline-none rounded-lg\"\r\n        >\r\n          <option value=\"\">Nhân viên</option>\r\n          {ship &&\r\n            ship?.map(({ ten_nv, id_nv }, idx) => (\r\n              <option key={idx} value={id_nv}>\r\n                {ten_nv}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"grid grid-cols-5 gap-5 mt-5 overflow-y-auto h-[calc(72vh)]\">\r\n        {invoice.map(\r\n          (\r\n            {\r\n              ten_kh,\r\n              tong_tien_hdx,\r\n              id_hdx,\r\n              trang_thai_gh,\r\n              ten_nv,\r\n              ngay_lap_hdx,\r\n              ngay_gh,\r\n              ghi_chu,\r\n              ten_sp,\r\n            },\r\n            idx\r\n          ) => (\r\n            <div\r\n              key={idx}\r\n              className=\" relative p-4 bg-slate-100 rounded-md shadow-md border-2\"\r\n            >\r\n              <p>Mã đơn hàng: {id_hdx}</p>\r\n              <p>Tên khách hàng: {ten_kh}</p>\r\n              <p>\r\n                Tên sản phẩm: <span className=\"font-bold\">{ten_sp} </span>\r\n              </p>\r\n              <p>\r\n                Tổng tiền hóa đơn:{\" \"}\r\n                <span className=\"text-red-600 font-bold\">\r\n                  {tong_tien_hdx.toLocaleString(\"it-IT\", {\r\n                    style: \"currency\",\r\n                    currency: \"VND\",\r\n                  })}\r\n                </span>\r\n              </p>\r\n              <p>\r\n                Tên nhân viên giao hàng:{\" \"}\r\n                <span className=\"font-bold\">{ten_nv}</span>\r\n              </p>\r\n              <p>\r\n                Ngày lập đơn:{\" \"}\r\n                <span className=\"font-bold\">\r\n                  {moment(ngay_lap_hdx).format(\"DD/MM/YYYY\")}\r\n                </span>\r\n              </p>\r\n\r\n              {trang_thai_gh === \"Đã giao hàng\" ? (\r\n                <p className=\"text-green-500 font-bold\">{trang_thai_gh}</p>\r\n              ) : (\r\n                <p className=\"text-orange-500 font-bold\">{trang_thai_gh}</p>\r\n              )}\r\n              <p>Lý do trả hàng: {ghi_chu}</p>\r\n              <p>\r\n                Ngày Giao Hàng:{\" \"}\r\n                {ngay_gh ? (\r\n                  <span className=\"font-bold\">\r\n                    {moment(ngay_gh)?.format(\"DD/MM/YYYY\")}\r\n                  </span>\r\n                ) : (\r\n                  <span className=\"font-bold\">Đơn hàng chưa hoàn thành</span>\r\n                )}\r\n              </p>\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Delivery;\r\n\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst deliverAPI = {\r\n  createDeliver(data) {\r\n    const API_URL = \"/api/manage/delivier/add\";\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n  getnameShip(){\r\n    const API_URL = \"/api/manage/delivier/getnameship\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n  getInvoice(idnv) {\r\n    const API_URL = `/api/manage/deliver/list_invoice/idnv=${idnv}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getInvoiceStatus(idnv, status) {\r\n    const API_URL = `/api/manage/deliver/get_invoice_status/idnv=${idnv}`;\r\n    return axiosClient.put(API_URL, status);\r\n  },\r\n\r\n  updateStatusNote(data) {\r\n    const API_URL = `/api/manage/deliver/update_status_note`;\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n\r\n  updateStatus(data) {\r\n    const API_URL = `/api/manage/deliver/update_status`;\r\n    return axiosClient.post(API_URL, data);\r\n  },\r\n\r\n  getOneInvoice(idhdx) {\r\n    const API_URL = `/api/manage/deliver/one_invoice/idhdx=${idhdx}`;\r\n    return axiosClient.get(API_URL);\r\n  },\r\n\r\n  getAllInvoice() {\r\n    const API_URL = \"/api/manage/deliver/list_invoice\";\r\n    return axiosClient.get(API_URL);\r\n  },\r\n  getPriceShip(data){\r\n    const API_URL = `/api/manage/deliver/shipinvoice/idnv=${data}`;\r\n    return axiosClient.get(API_URL)\r\n  },\r\n  deleteInvoice(idhdx) {\r\n    const API_URL = `/api/manage/deliver/delete_invoice/idhdx=${idhdx}`;\r\n    return axiosClient.delete(API_URL);\r\n  },\r\n};\r\n\r\nexport default deliverAPI;\r\n"],"names":["useState","invoice","setInvoice","ship","setShip","useEffect","deliverAPI","res","ten_nvship","handleAddFormChange","e","preventDefault","fieldValue","target","value","getPriceShip","console","log","className","name","onChange","map","idx","ten_nv","id_nv","ten_kh","tong_tien_hdx","id_hdx","trang_thai_gh","ngay_lap_hdx","ngay_gh","ghi_chu","ten_sp","toLocaleString","style","currency","moment","format","createDeliver","data","axiosClient","getnameShip","getInvoice","idnv","API_URL","getInvoiceStatus","status","updateStatusNote","updateStatus","getOneInvoice","idhdx","getAllInvoice","deleteInvoice"],"sourceRoot":""}
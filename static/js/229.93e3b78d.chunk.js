"use strict";(self.webpackChunkviews=self.webpackChunkviews||[]).push([[229],{41229:function(e,n,t){t.r(n);var r=t(42982),a=t(74165),s=t(15861),i=t(70885),c=t(72791),u=t(26241),l=t(78422),o=t(74269),d=t(16030),p=t(80184);n.default=function(){var e=(0,c.useState)([]),n=(0,i.Z)(e,2),t=n[0],x=n[1],h=(0,c.useState)([]),f=(0,i.Z)(h,2),v=f[0],g=f[1],m=(0,u.Ds)().enqueueSnackbar,b=(0,c.useState)([]),Z=(0,i.Z)(b,2),j=Z[0],w=Z[1],k=(0,c.useState)(),N=(0,i.Z)(k,2),B=N[0],C=N[1],y=(0,c.useState)(),D=(0,i.Z)(y,2),S=D[0],T=D[1],_=(0,d.v9)((function(e){var n;return null===e||void 0===e||null===(n=e.brand)||void 0===n?void 0:n.brandlist}));(0,c.useEffect)((function(){(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.getBanner();case 2:n=e.sent,w(n);case 4:case"end":return e.stop()}}),e)})))()}),[]);var z=function(e){return new Promise((function(n,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){n(r.result)},r.onerror=function(e){t(e)}}))},H=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var r,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=new FormData,!t){e.next=12;break}for(s=0;s<t.length;s++)r.append("photos",t[s]);return r.append("thuonghieu",B),r.append("page",S),e.next=8,o.Z.createBanner(r);case 8:return e.next=10,o.Z.getBanner();case 10:i=e.sent,w(i);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t,s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(n.target.files),!(n.target.files.length+v.length<=5)){e.next=16;break}t=0,s=(0,a.Z)().mark((function e(){var s,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.target.files[t]){e.next=3;break}return e.abrupt("return",{v:void 0});case 3:return e.next=5,z(s);case 5:i=e.sent,g((function(e){return[].concat((0,r.Z)(e),[{url:i}])}));case 7:case"end":return e.stop()}}),e)}));case 6:if(!(t<n.target.files.length)){e.next=14;break}return e.delegateYield(s(),"t0",8);case 8:if("object"!==typeof(i=e.t0)){e.next=11;break}return e.abrupt("return",i.v);case 11:t++,e.next=6;break;case 14:e.next=17;break;case 16:m("T\u1ed1i \u0111a l\xe0 5 \u1ea3nh!",{variant:"error",autoHideDuration:2e3});case 17:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=function(e){var n=e.target.getAttribute("name");g(v.filter((function(e){return e.url!==n})))},E=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.deteleBanner(n);case 2:return e.next=4,o.Z.getBanner();case 4:t=e.sent,w(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=!!j&&(null===j||void 0===j?void 0:j.map((function(e,n){var t=e.id_ab,r=e.ten_ab;return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:" relative text-center border  rounded-lg  shadow-lg ",children:[(0,p.jsx)("img",{className:"rounded w-[250px] h-[100px]",src:r.slice(12,r.length),alt:"san pham"}),(0,p.jsx)(l.Z,{sx:{color:"red"},onClick:function(){return E(t)},className:"absolute right-1 top-1 cursor-pointer z-10 "})]})},n)}))),R=null===v||void 0===v?void 0:v.map((function(e,n){return(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)("img",{className:"w-[100px] h-[100px] rounded-lg",src:e.url,alt:"anh bia"}),(0,p.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-600 text-center text-[12px] text-white px-[6px] rounded-full cursor-pointer",name:e.url,onClick:A,children:"x"})]},n)}));return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"px-[20px]",children:[(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"flex gap-6",children:[(0,p.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg shadow-lg",onClick:H,children:"Th\xeam \u1ea2nh B\xeca"}),(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("span",{className:"block",children:"Th\u01b0\u01a1ng hi\u1ec7u"}),(0,p.jsxs)("select",{className:"p-1 w-[200px] border border-slate-400 rounded-lg",name:"thuonghieu",onChange:function(e){e.preventDefault();var n=e.target.value;C(n)},children:[(0,p.jsx)("option",{value:"",children:"Tr\u1ed1ng"}),_&&(null===_||void 0===_?void 0:_.map((function(e,n){var t=e.id_th,r=e.ten_th;return(0,p.jsx)("option",{value:t,children:r},n)})))]})]}),(0,p.jsxs)("div",{className:"",children:[(0,p.jsx)("span",{className:"block",children:"H\u01b0\u1edbng trang"}),(0,p.jsxs)("select",{className:"p-1 w-[200px] border border-slate-400 rounded-lg",name:"thuonghieu",onChange:function(e){e.preventDefault();var n=e.target.value;T(n)},children:[(0,p.jsx)("option",{value:"",children:"Tr\u1ed1ng"}),(0,p.jsx)("option",{value:"/shop/products",children:"S\u1ea3n ph\u1ea9m"}),(0,p.jsx)("option",{value:"/shop/sale",children:"Gi\u1ea3m gi\xe1"})]})]})]})}),(0,p.jsx)("div",{className:"flex gap-4 mt-3",children:(0,p.jsxs)("div",{className:"flex gap-4",children:[(0,p.jsx)("input",{type:"file",id:"default-btn",className:"hidden",name:"file",onChange:function(e){L(e)},multiple:!0}),(0,p.jsx)("div",{className:"w-[100px] h-[100px] border border-slate-400 rounded-lg cursor-pointer",onClick:function(){document.getElementById("default-btn").click()},children:(0,p.jsx)("div",{className:"text-[25px] text-[#ccc] text-center leading-[90px] ",children:"+"})}),R]})})]}),(0,p.jsx)("div",{className:"grid grid-cols-6 gap-5 mt-5",children:F})]})}},74269:function(e,n,t){var r=t(65608),a={createBanner:function(e){return r.Z.post("/api/manage/banner/upload",e)},getBanner:function(){return r.Z.get("/api/manage/banner")},deteleBanner:function(e){var n="/api/manage/banner/delete=".concat(e);return r.Z.delete(n)}};n.Z=a},78422:function(e,n,t){var r=t(64836);n.Z=void 0;var a=r(t(45649)),s=t(80184),i=(0,a.default)((0,s.jsx)("path",{d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-3 12.59L17.59 17 14 13.41 10.41 17 9 15.59 12.59 12 9 8.41 10.41 7 14 10.59 17.59 7 19 8.41 15.41 12 19 15.59z"}),"Backspace");n.Z=i}}]);
//# sourceMappingURL=229.93e3b78d.chunk.js.map
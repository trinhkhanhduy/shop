{"version":3,"file":"static/js/471.4724b2ba.chunk.js","mappings":"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","sources":["Shop/components/CardOrder/index.jsx","Shop/pages/Orders/index.jsx"],"sourcesContent":["import React from \"react\";\r\nimport moment from \"moment\";\r\nimport {Link} from \"react-router-dom\";\r\nimport detailExportInvoiceAPI from \"../../../api/detailExportInvoiceAPI\";\r\nimport detailProductAPI from \"../../../api/detailProductAPI\";\r\nimport exportInvoiceAPI from \"../../../api/exportInvoiceAPI\";\r\n\r\nfunction CardOrder({data}) {\r\n  const cancelOrder = async (idhdx) => {\r\n    const data_hdx = await detailExportInvoiceAPI.getDetailExportInvoice(idhdx);\r\n    await detailProductAPI.addNumberProduct(data_hdx);\r\n    await exportInvoiceAPI.updateStatus(idhdx, {\r\n      status: \"Hủy\",\r\n    });\r\n    window.location.reload();\r\n  };\r\n  return (\r\n    <div>\r\n      {data?.map(({HDX, CTHDX}, idx) => (\r\n        <div key={idx} className=\"mt-5 p-4 min-h-[230px] mx-auto bg-cyan-50 rounded-lg shadow-md\">\r\n          <Link to={`/shop/order/${HDX.id_hdx}`}>\r\n            <div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"block\">{moment(HDX.ngay_lap_hdx).format(\"DD/MM/YYYY\")}</span> <br />\r\n                <span className=\"block font-medium px-6 py-1 bg-slate-50 rounded-2xl\">{HDX.trang_thai}</span>\r\n              </div>\r\n              {CTHDX.map(({ten_sp, hinh_anh, so_luong_xuat, ten_ms, ten_kt}, idx) => (\r\n                <div key={idx} className=\"relative flex justify-between gap-5 items-center mb-4 mt-4\">\r\n                  <img className=\"block w-[75px] align-middle rounded-lg\" src={hinh_anh} alt=\"\" />\r\n\r\n                  <div className=\"w-[90%] \">\r\n                    <p className=\"text-[18px] font-medium\">{ten_sp}</p>\r\n                    <div className=\"flex gap-5 text-[14px] text-slate-500\">\r\n                      <span>Màu sắc: {ten_ms}</span>\r\n                      <span>Kích thước: {ten_kt}</span>\r\n                    </div>\r\n                  </div>\r\n                  <span className=\"w-[20%] text-center\">Số lượng: {so_luong_xuat}</span>\r\n                </div>\r\n              ))}\r\n              <div className=\"text-right pr-5\">\r\n                <span className=\"text-[20px] text-red-800 font-bold\">\r\n                  {new Intl.NumberFormat(\"vi-VN\", {style: \"currency\", currency: \"VND\"}).format(HDX.tong_tien_hdx)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n          <div className=\"pr-5\">\r\n            {HDX.trang_thai === \"Đã giao hàng\" ? (\r\n              <Link to={`/shop/review/${HDX.id_hdx}`}>\r\n              <button className=\"mt-5 mr-5 text-white font-medium px-4 py-2 bg-amber-400 rounded-lg\">\r\n                Đánh giá\r\n              </button>\r\n              </Link>\r\n            ) : (\r\n              <></>\r\n            )}\r\n\r\n            {HDX.trang_thai === \"Đang xử lý\" ? (\r\n              <button\r\n                onClick={() => cancelOrder(HDX.id_hdx)}\r\n                className=\"mt-5 text-white font-medium px-4 py-2 bg-red-500 rounded-lg\"\r\n              >\r\n                Hủy\r\n              </button>\r\n            ) : (\r\n              <button className=\"mt-5 text-white font-medium px-4 py-2 bg-red-500 rounded-lg opacity-60 cursor-not-allowed\">\r\n                Hủy\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CardOrder;\r\n","import React, {useEffect, useState} from \"react\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Tab from \"@mui/material/Tab\";\r\nimport TabContext from \"@mui/lab/TabContext\";\r\nimport TabList from \"@mui/lab/TabList\";\r\nimport TabPanel from \"@mui/lab/TabPanel\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport CardOrder from \"../../components/CardOrder\";\r\n\r\nimport exportInvoiceAPI from \"../../../api/exportInvoiceAPI\";\r\nimport detailExportInvoiceAPI from \"../../../api/detailExportInvoiceAPI\";\r\n\r\nfunction Orders() {\r\n  const {enqueueSnackbar} = useSnackbar();\r\n\r\n  const id_kh = useSelector((state) => state?.user?.current.dataUser[0]?.id_kh);\r\n\r\n  const [value, setValue] = useState(\"1\");\r\n  const [allOrder, setAllOrder] = useState([]);\r\n  const [waitOrser, setWaitOrder] = useState([]);\r\n  const [waitDeliverOrser, setwaitDeliverOrser] = useState([]);\r\n  const [deliverOrser, setDeliverOrser] = useState([]);\r\n  const [successOrser, setSuccessOrser] = useState([]);\r\n  const [cancelOrder, setCancelOrder] = useState([]);\r\n  const [refundOrder, setRefundOrder] = useState([]);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const allOrder = await exportInvoiceAPI.getListExportInvoice(id_kh);\r\n        for (let i = 0; i < allOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(allOrder[i].id_hdx);\r\n          setAllOrder((test) => [...test, {HDX: allOrder[i], CTHDX: data}]);\r\n        }\r\n\r\n        const waitOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Đang xử lý\",\r\n        });\r\n        for (let i = 0; i < waitOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(waitOrder[i].id_hdx);\r\n          setWaitOrder((test) => [...test, {HDX: waitOrder[i], CTHDX: data}]);\r\n        }\r\n\r\n        const waitShipOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Đã xác nhận\",\r\n        });\r\n        for (let i = 0; i < waitShipOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(waitShipOrder[i].id_hdx);\r\n          setwaitDeliverOrser((test) => [...test, {HDX: waitShipOrder[i], CTHDX: data}]);\r\n        }\r\n\r\n        const deliverOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Đang giao hàng\",\r\n        });\r\n        for (let i = 0; i < deliverOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(deliverOrder[i].id_hdx);\r\n          setDeliverOrser((test) => [...test, {HDX: deliverOrder[i], CTHDX: data}]);\r\n        }\r\n        const successOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Đã giao hàng\",\r\n        });\r\n        for (let i = 0; i < successOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(successOrder[i].id_hdx);\r\n          setSuccessOrser((test) => [...test, {HDX: successOrder[i], CTHDX: data}]);\r\n        }\r\n\r\n        const cancelOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Hủy\",\r\n        });\r\n        for (let i = 0; i < cancelOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(cancelOrder[i].id_hdx);\r\n          setCancelOrder((test) => [...test, {HDX: cancelOrder[i], CTHDX: data}]);\r\n        }\r\n\r\n        const refundOrder = await exportInvoiceAPI.getOrders(id_kh, {\r\n          status: \"Hoàn hàng\",\r\n        });\r\n        for (let i = 0; i < refundOrder.length; i++) {\r\n          const data = await detailExportInvoiceAPI.getDetailExportInvoice(refundOrder[i].id_hdx);\r\n          setRefundOrder((test) => [...test, {HDX: refundOrder[i], CTHDX: data}]);\r\n        }\r\n      } catch (error) {\r\n        enqueueSnackbar(error.message, {\r\n          variant: \"error\",\r\n          autoHideDuration: 2000,\r\n        });\r\n      }\r\n    })();\r\n  }, [id_kh]);\r\n\r\n  return (\r\n    <div className=\"mt-6\">\r\n      <Box sx={{width: \"55%\", margin: \"auto\", typography: \"body1\"}}>\r\n        <TabContext value={value}>\r\n          <Box sx={{borderBottom: 1, borderColor: \"divider\"}}>\r\n            <TabList onChange={handleChange} aria-label=\"lab API tabs example\">\r\n              <Tab label={`Tất cả (${allOrder.length})`} value=\"1\" />\r\n              <Tab label={`Đang xử lý (${waitOrser.length})`} value=\"2\" />\r\n              <Tab label={`Chờ giao hàng (${waitDeliverOrser.length})`} value=\"3\" />\r\n              <Tab label={`Đang giao hàng (${deliverOrser.length})`} value=\"4\" />\r\n              <Tab label={`Đã giao (${successOrser.length})`} value=\"5\" />\r\n              <Tab label={`Đơn hủy (${cancelOrder.length + refundOrder.length})`} value=\"6\" />\r\n            </TabList>\r\n          </Box>\r\n          <TabPanel value=\"1\">\r\n            <CardOrder data={allOrder} />\r\n          </TabPanel>\r\n          <TabPanel value=\"2\">\r\n            <CardOrder data={waitOrser} />\r\n          </TabPanel>\r\n          <TabPanel value=\"3\">\r\n            <CardOrder data={waitDeliverOrser} />\r\n          </TabPanel>\r\n          <TabPanel value=\"4\">\r\n            <CardOrder data={deliverOrser} />\r\n          </TabPanel>\r\n          <TabPanel value=\"5\">\r\n            <CardOrder data={successOrser} />\r\n          </TabPanel>\r\n          <TabPanel value=\"6\">\r\n            <CardOrder data={refundOrder} />\r\n            <CardOrder data={cancelOrder} />\r\n          </TabPanel>\r\n        </TabContext>\r\n      </Box>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n"],"names":["data","cancelOrder","idhdx","detailExportInvoiceAPI","data_hdx","detailProductAPI","exportInvoiceAPI","status","window","location","reload","map","idx","HDX","CTHDX","className","to","id_hdx","moment","ngay_lap_hdx","format","trang_thai","ten_sp","hinh_anh","so_luong_xuat","ten_ms","ten_kt","src","alt","Intl","NumberFormat","style","currency","tong_tien_hdx","onClick","enqueueSnackbar","useSnackbar","id_kh","useSelector","state","user","current","dataUser","useState","value","setValue","allOrder","setAllOrder","waitOrser","setWaitOrder","waitDeliverOrser","setwaitDeliverOrser","deliverOrser","setDeliverOrser","successOrser","setSuccessOrser","setCancelOrder","refundOrder","setRefundOrder","useEffect","i","test","length","waitOrder","waitShipOrder","deliverOrder","successOrder","message","variant","autoHideDuration","Box","sx","width","margin","typography","TabContext","borderBottom","borderColor","TabList","onChange","event","newValue","Tab","label","TabPanel"],"sourceRoot":""}